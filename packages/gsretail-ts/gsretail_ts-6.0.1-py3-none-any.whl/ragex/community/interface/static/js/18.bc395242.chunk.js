(this["webpackJsonpucess-talk-admin"]=this["webpackJsonpucess-talk-admin"]||[]).push([[18],{1099:function(e,t,a){"use strict";a.r(t);var n=a(12),o=a(20),l=a(10),r=a(0),c=a.n(r),i=a(946),s=a.n(i),d=a(3),m=a(850),f=a(1088),u=a(25),g=a(299),h=a.n(g),p=a(7),E=a(18),b=a(154),v=a(1075),w=a.n(v),y=a(100),C=a.n(y),x=a(1076),O=a.n(x),k=a(1008),N=a.n(k),j=a(961),S=a(342),I=a(345),_=a(343),D=a(1e3),z=a(1001),q=a(1026),Y=a(998),A=a(999),H=a(9),F=a(914),L=a(890),M=a(119),P=a(1079),T=a(1035),R=a(1036),W=Object(H.a)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(q.a),B=Object(H.a)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}})(A.a),Q=Object(j.a)(function(e){return{fileTable:{minWidth:300},panel:{margin:0,borderWidth:"1px 1px 1px 1px",borderStyle:"solid",borderColor:e.palette.divider,"&:first-child":{borderRadius:"16px 16px 0 0"},"&:last-child":{borderRadius:"0 0 16px 16px",borderWidth:"1px 1px 1px 1px"}},expanded:{}}}),J=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:S.a[500],"&:hover":{backgroundColor:S.a[700]},marginLeft:4}}})(F.a),V=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:I.a[500],"&:hover":{backgroundColor:I.a[700]},marginRight:4}}})(F.a),U=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:_.a[500],"&:hover":{backgroundColor:_.a[700]}}}})(F.a);var $=function(e){var t=Q();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-16 pr-4 flex flex-row items-center"},c.a.createElement(L.a,{className:"mr-12",style:{color:"#2196f3"}},"web_asset"),c.a.createElement(M.a,{className:"h3 font-bold",style:{color:"#2196f3"}},"\ud30c\uc77c \uc815\ubcf4")),c.a.createElement("div",{className:"py-8 px-16"},c.a.createElement(u.c,{duration:400,delay:100,enter:{animation:"trainsition.slideUpBigIn"}},c.a.createElement(P.a,{classes:{root:t.panel,expanded:t.expanded},key:"panel-1"},c.a.createElement(T.a,{expandIcon:c.a.createElement(L.a,null,"expand_more")},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(L.a,{className:"mr-8",color:"action"},"add_to_photos"),c.a.createElement(M.a,{className:""},"\ud30c\uc77c \ubcd1\ud569"))),c.a.createElement(R.a,null,c.a.createElement("div",{style:{float:"left"}},c.a.createElement("input",{type:"file",onChange:function(t){return e.readFileSelect(t)},accept:".json",multiple:!0})),c.a.createElement("div",{style:{float:"right"}},c.a.createElement(J,{variant:"contained",color:"secondary",size:"small",startIcon:c.a.createElement(O.a,null),onClick:function(t){e.fileMerge()},disabled:null===e.fileSelect||""===e.fileSelect.fileName},"\ubcd1\ud569")))))),c.a.createElement("div",{className:"py-8 px-16"},c.a.createElement(V,{variant:"contained",component:"label",size:"small"},"\ud30c\uc77c \ubd88\ub7ec\uc624\uae30",c.a.createElement("input",{type:"file",onChange:function(t){return e.readFileChange(t)},accept:".json",style:{display:"none"}}))),c.a.createElement("div",{className:"py-8 px-16"},c.a.createElement(D.a,{className:t.table,size:"small"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(W,{align:"center",style:{width:"40%"}},"\ud30c\uc77c\uba85"),c.a.createElement(W,{align:"center",style:{width:"20%"}},"\ucd1d \ubb38\uc11c\uac74\uc218"),c.a.createElement(W,{align:"center",style:{width:"20%"}},"\ubbf8\uc791\uc131 \uac74\uc218"),c.a.createElement(W,{align:"center",style:{width:"20%"}},"\ud30c\uc77c\ucd94\ucd9c"))),c.a.createElement(z.a,null,null!==e.fileInfo&&""===e.fileInfo.fileContent&&c.a.createElement(B,null,c.a.createElement(W,{align:"center",colSpan:"5",component:"th",scope:"row"},"\ud30c\uc77c\uc744 \uc120\ud0dd\ud558\uc138\uc694")),null!==e.fileInfo&&""!==e.fileInfo.fileContent&&c.a.createElement(B,null,c.a.createElement(W,{component:"th",scope:"row",align:"left"},e.fileInfo.fileName),c.a.createElement(W,{component:"th",scope:"row",align:"center"},e.fileInfo.fileContent.docs.length),c.a.createElement(W,{component:"th",scope:"row",align:"center"},e.fileInfo.fileContent.docs.filter(function(e){return"N"===e.write_complete}).length),c.a.createElement(W,{component:"th",scope:"row",align:"center"},c.a.createElement(U,{variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:c.a.createElement(N.a,null),onClick:function(t){e.fileExport()}},"\ucd94\ucd9c")))))))},K=a(928),X=a(923),G=a(925),Z=a(902),ee=a(834),te=a(845),ae=a(1078),ne=a(903);function oe(){var e=Object(K.a)(["\n  .choiceListTable {\n    /* float: left; */\n    margin-left: 10px;\n    display: inline-block;\n  }\n"]);return oe=function(){return e},e}var le=a(929).a.div(oe()),re=Object(H.a)(function(e){return{root:{width:28,height:18,padding:0,display:"flex"},switchBase:{padding:2,color:"#039BE5","&$checked":{transform:"translateX(12px)",color:"#FF5E00","& + $track":{opacity:1,backgroundColor:"#FFFFFF",borderColor:e.palette.primary.main}}},thumb:{width:12,height:14,boxShadow:"none"},track:{height:16,border:"1px solid ".concat(e.palette.grey[500]),borderRadius:8,opacity:1,backgroundColor:e.palette.common.white},checked:{}}})(ne.a),ce=Object(H.a)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(q.a),ie=Object(H.a)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}})(A.a),se=Object(j.a)({table:{minWidth:300},tableWrapper:{maxHeight:570,overflow:"auto",marginLeft:16,marginRight:16,marginTop:4,marginBottom:4}});Object(j.a)(function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}});var de=function(e){var t=se(),a=c.a.useState([]),n=Object(o.a)(a,2),l=(n[0],n[1],c.a.useState(0)),r=Object(o.a)(l,2),i=r[0],s=r[1],d=c.a.useState(10),m=Object(o.a)(d,2),u=m[0],g=m[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"p-16 pr-4 flex flex-row items-center"},c.a.createElement(L.a,{className:"mr-12",style:{color:"#2196f3"}},"assignment"),c.a.createElement(M.a,{className:"h3 font-bold",style:{color:"#2196f3"}},"\ubb38\uc11c \uc815\ubcf4")),c.a.createElement("div",{className:"py-8 px-16"},c.a.createElement(ee.a,{component:"fieldset"},c.a.createElement(te.a,{component:"legend",color:"secondary"},"\uc791\uc131 \uc644\ub8cc \uc5ec\ubd80"),c.a.createElement(G.a,{row:!0,"aria-label":"position",name:"position",defaultValue:e.searchWriteCompleteValue,onChange:function(t){return e.onChangeComplete(t)}},c.a.createElement(Z.a,{value:"ALL",control:c.a.createElement(X.a,{color:"secondary"}),label:"\uc804\uccb4"}),c.a.createElement(Z.a,{value:"Y",control:c.a.createElement(X.a,{color:"secondary"}),label:"\uc644\ub8cc"}),c.a.createElement(Z.a,{value:"N",control:c.a.createElement(X.a,{color:"secondary"}),label:"\ubbf8\uc644\ub8cc"})))),c.a.createElement("div",{className:"py-4 px-16"},c.a.createElement(ee.a,{component:"fieldset"},c.a.createElement(te.a,{component:"legend",color:"secondary"},"\ubb38\uc11c \uc81c\uc678 \uc5ec\ubd80"),c.a.createElement(G.a,{row:!0,"aria-label":"position",name:"position",defaultValue:e.searchExceptedValue,onChange:function(t){return e.onChangeExcepted(t)}},c.a.createElement(Z.a,{value:"ALL",control:c.a.createElement(X.a,{color:"secondary"}),label:"\uc804\uccb4"}),c.a.createElement(Z.a,{value:"N",control:c.a.createElement(X.a,{color:"secondary"}),label:"\uc0ac\uc6a9"}),c.a.createElement(Z.a,{value:"Y",control:c.a.createElement(X.a,{color:"secondary"}),label:"\uc81c\uc678"})))),c.a.createElement("div",{className:"py-4 px-16"},c.a.createElement(te.a,{component:"legend",color:"secondary"},null!==e.fileInfo&&""!==e.fileInfo.fileContent&&e.getCnt())),c.a.createElement("div",{className:t.tableWrapper},c.a.createElement(D.a,{stickyHeader:!0,"aria-label":"sticky table",className:t.table,size:"small"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(ce,{align:"center",style:{width:"8%"}},"No"),c.a.createElement(ce,{align:"center",style:{width:"22%"}},"ID"),c.a.createElement(ce,{align:"center",style:{width:"20%"}},"Q&A\uac74\uc218"),c.a.createElement(ce,{align:"center",style:{width:"20%"}},"\uc791\uc131\uc644\ub8cc"),c.a.createElement(ce,{align:"center",style:{width:"30%"}},"\uc81c\uc678"))),c.a.createElement(z.a,null,null!==e.fileInfo&&""===e.fileInfo.fileContent&&c.a.createElement(ie,null,c.a.createElement(ce,{align:"center",colSpan:"6",component:"th",scope:"row"},"\uc870\ud68c\ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")),null!==e.fileInfo&&""!==e.fileInfo.fileContent&&e.docArr.slice(i*u,i*u+u).map(function(t,a){return c.a.createElement(ie,{hover:!0,key:a,selected:e.rowId===t.doc_id,onClick:function(a){return e.rowClick(a,t.doc_id)},style:{background:e.rowId===t.doc_id?"#2196f3":null,color:(e.rowId,t.doc_id,"white")}},c.a.createElement(ce,{align:"center",component:"th",scope:"row"},0===i?a+1:i*u+(a+1)),c.a.createElement(ce,{align:"center"},c.a.createElement("div",null,(n=t.doc_id,""!==(o=8)&&null!=o||(o=8),""!==(l="...")&&null!=l||(l="..."),n.length>o&&(n=n.substr(0,o)+l),n))),c.a.createElement(ce,{align:"center"},t.qna.length),c.a.createElement(ce,{align:"center"},t.write_complete),c.a.createElement(ce,{align:"center"},c.a.createElement(le,null,c.a.createElement(M.a,{component:"div",variant:"button"},c.a.createElement("div",{className:"choiceListTable"},c.a.createElement(f.a,{item:!0},"\uc0ac\uc6a9")),c.a.createElement("div",{className:"choiceListTable"},c.a.createElement(f.a,{item:!0},c.a.createElement(re,{checked:"Y"===t.excepted,onChange:function(a){return e.handleSwitchChange(a,t.doc_id)}}))),c.a.createElement("div",{className:"choiceListTable"},c.a.createElement(f.a,{item:!0},"\uc81c\uc678"))))));var n,o,l})))),c.a.createElement(ae.a,{rowsPerPageOptions:[10,50,100],component:"div",count:null===e.fileInfo||""===e.fileInfo.fileContent?0:e.fileInfo.fileContent.docs.length,rowsPerPage:u,page:i,backIconButtonProps:{"aria-label":"previous page"},nextIconButtonProps:{"aria-label":"next page"},onChangePage:function(e,t){s(t)},onChangeRowsPerPage:function(e){g(+e.target.value),s(0)}}))},me=a(939),fe=a.n(me),ue=a(955),ge=a.n(ue),he=a(972),pe=a.n(he),Ee=a(938),be=a.n(Ee),ve=a(909),we=a(115),ye=a(341),Ce=a(839),xe=a(300),Oe=a.n(xe),ke=a(979),Ne=a.n(ke),je=a(962),Se=a.n(je),Ie=Object(H.a)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(q.a),_e=Object(H.a)(function(e){return{}})(A.a),De=Object(j.a)(function(e){return{table:{maxHeight:610,minWidth:550,overflow:"auto"},container:{maxHeight:340},button:{margin:e.spacing(1)},tableWrapper:{maxHeight:600,overflow:"auto",marginLeft:16,marginRight:16,marginTop:4,marginBottom:4}}}),ze=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:S.a[500],"&:hover":{backgroundColor:S.a[700]}}}})(F.a),qe=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:_.a[500],"&:hover":{backgroundColor:_.a[700]}}}})(F.a),Ye=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:I.a[500],"&:hover":{backgroundColor:I.a[700]}}}})(F.a),Ae=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:we.a[500],"&:hover":{backgroundColor:we.a[700]}}}})(F.a),He=Object(H.a)(function(e){return{root:{color:"#fff",backgroundColor:ye.a[500],"&:hover":{backgroundColor:ye.a[700]}}}})(F.a);var Fe=function(e){var t=De(e),a=c.a.useState([]),n=Object(o.a)(a,2),l=n[0],r=n[1];function i(e,t,a){return""!==t&&null!=t||(t=8),""!==a&&null!=a||(a="..."),e.length>t&&(e=e.substr(0,t)+a),e}return c.a.useEffect(function(){var t=null!==e.data&&""!==e.data&&e.data.docs.filter(function(t,a){return t.doc_id===e.selectedId});r(t.length>0?t[0].qna:[])},[e.data,e.selectedId]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t.content},c.a.createElement("div",{className:"flex flex-col relative flex-1 z-10"},c.a.createElement("div",{className:"w-full m-6"},c.a.createElement("div",{className:"p-16 pr-4 flex flex-row items-center"},c.a.createElement(L.a,{className:"mr-12",style:{color:"#2196f3"}},"question_answer"),c.a.createElement(M.a,{className:"h3 font-bold",style:{color:"#2196f3"}},"\ubb38\uc11c Q & A \uc815\ubcf4")),c.a.createElement("div",{className:"p-16 pb-8"},c.a.createElement("div",{className:"flex items-center mb-12"},c.a.createElement(L.a,{className:"text-20 mr-8",color:"inherit"},"label"),c.a.createElement(M.a,{className:"font-600 text-16"},"\ub0b4\uc6a9")),c.a.createElement("div",{id:"content",style:{height:"180px",whiteSpace:"pre-line",lineHeight:"1.2",fontSize:"12px",width:"100%",border:"solid 1px"},onMouseDown:function(e){console.log("onMouseDown")},onMouseUp:function(t){console.log("onMouseUp");var a=window.getSelection(),n=a.getRangeAt(0);console.log("context: ",n.startContainer.data),console.log("answer: ",a.toString()),console.log("startOffset: ",n.startOffset),e.contextOnMouseUp(a,n,l.length,e.context)}},c.a.createElement(Se.a,{highlightClassName:"YourHighlightClass",searchWords:e.searchText,autoEscape:!0,textToHighlight:""!==e.context?e.context:"( \ubb38\uc11cID\ub97c \uc120\ud0dd\ud558\uc138\uc694. )"})),c.a.createElement("div",{className:"flex items-center mb-12"},c.a.createElement(L.a,{className:"text-20 mr-8",color:"inherit"},"label"),c.a.createElement(M.a,{className:"font-600 text-16"},"\uc9c8\ubb38")),c.a.createElement(ve.a,{name:"Text",variant:"outlined",color:"secondary",fullWidth:!0,placeholder:"( \uc9c8\ubb38\uc744 \uc785\ub825\ud558\uc138\uc694. )",InputProps:{className:"text-14"},value:e.qnaState.question,onChange:function(t){e.handleChangeQuestion(t)}}),c.a.createElement("div",{className:"flex items-center mb-12"},c.a.createElement(L.a,{className:"text-20 mr-8",color:"inherit"},"label"),c.a.createElement(M.a,{className:"font-600 text-16"},"\ub2f5\ubcc0")),c.a.createElement(ve.a,{name:"Text",variant:"outlined",color:"secondary",fullWidth:!0,placeholder:"( \ubb38\uc11c \ub0b4\uc6a9\uc5d0\uc11c \ub2f5\ubcc0\uc744 \ub9c8\uc6b0\uc2a4\ub85c \ub4dc\ub798\uadf8 \ud558\uc138\uc694. \ub4dc\ub798\uadf8\uc2dc \uc790\ub3d9\uc73c\ub85c \uc785\ub825 \ub429\ub2c8\ub2e4. )",InputProps:{className:"text-14"},disabled:!0,value:e.qnaState.answer}),c.a.createElement("div",{className:"flex items-center mb-12"},c.a.createElement(L.a,{className:"text-20 mr-8",color:"inherit"},"label"),c.a.createElement(M.a,{className:"font-600 text-16"},"Q & A \ubaa9\ub85d")),c.a.createElement("div",{style:{float:"left"}},c.a.createElement(ze,{variant:"contained",color:"secondary",size:"small",onClick:e.handleNew,startIcon:c.a.createElement(fe.a,null),style:{marginBottom:"9px"}},"\uc2e0\uaddc")),c.a.createElement("div",{style:{float:"right"}},c.a.createElement(qe,{variant:"contained",color:"secondary",size:"small",onClick:e.handleAdd,startIcon:c.a.createElement(ge.a,null),disabled:!0!==e.writeType.add,style:{marginRight:"6px",marginBottom:"9px"}},"\ucd94\uac00"),c.a.createElement(Ye,{variant:"contained",color:"secondary",size:"small",onClick:e.handleEdit,startIcon:c.a.createElement(pe.a,null),disabled:!0!==e.writeType.edit,style:{marginBottom:"9px"}},"\uc218\uc815")),c.a.createElement(D.a,{stickyHeader:!0,"aria-label":"sticky table",className:t.table,size:"small"},c.a.createElement(Y.a,null,c.a.createElement(A.a,null,c.a.createElement(Ie,{align:"center",style:{width:"8%"}},"No"),c.a.createElement(Ie,{align:"center",style:{width:"12%"}},"ID"),c.a.createElement(Ie,{align:"center",style:{width:"25%"}},"\uc9c8\ubb38"),c.a.createElement(Ie,{align:"center",style:{width:"25%"}},"\ub2f5\ubcc0"),c.a.createElement(Ie,{align:"center",style:{width:"20%"}},"\ub2f5\ubcc0 \uc2dc\uc791 \uc704\uce58"),c.a.createElement(Ie,{align:"center",style:{width:"10%"}},"\uc0ad\uc81c"))),c.a.createElement(z.a,null,0===l.length&&c.a.createElement(_e,null,c.a.createElement(Ie,{align:"center",colSpan:"6",component:"th",scope:"row"},"\uc870\ud68c\ub0b4\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.")),l.length>0&&l.map(function(t,a){return c.a.createElement(_e,{hover:!0,key:a,selected:e.qnaState.id===t.id,onClick:function(a){return e.qnaRowClick(a,t)},style:{background:e.qnaState.id===t.id?"#2196f3":null,color:(e.qnaState.id,t.id,"white")}},c.a.createElement(Ie,{align:"center",component:"th",scope:"row"},a+1),c.a.createElement(Ie,{align:"center"},t.id),c.a.createElement(Ie,{align:"center"},c.a.createElement("div",null,i(t.question,12,"..."))),c.a.createElement(Ie,{align:"center"},c.a.createElement("div",null,i(t.answer,12,"..."))),c.a.createElement(Ie,{align:"center"},t.start_offset),c.a.createElement(Ie,{align:"center"},c.a.createElement(Ce.a,{"aria-label":"expand row",size:"small",onClick:function(){e.handleDel(t.id)},style:{cursor:"pointer"}},c.a.createElement(be.a,{style:{color:we.a[500]}}))))}))),c.a.createElement("div",{style:{float:"right"}},c.a.createElement(Ae,{variant:"contained",color:"primary",size:"small",className:t.button,startIcon:c.a.createElement(Oe.a,null),onClick:function(t){e.writeComplete("N")},disabled:0===l.length},"\uc791\uc131\ubbf8\uc644\ub8cc"),c.a.createElement(He,{variant:"contained",color:"secondary",size:"small",className:t.button,startIcon:c.a.createElement(Ne.a,null),onClick:function(t){e.writeComplete("Y")},disabled:0===l.length},"\uc791\uc131\uc644\ub8cc")))))))};function Le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Le(a,!0).forEach(function(t){Object(l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Pe=Object(m.a)(function(e){var t;return{contentCardWrapper:(t={position:"relative",padding:24,maxWidth:1900,display:"flex",flexDirection:"column",flex:"1 0 auto",width:"100%",minWidth:"0",maxHeight:"100%",margin:"0 auto"},Object(l.a)(t,e.breakpoints.down("sm"),{padding:16}),Object(l.a)(t,e.breakpoints.down("xs"),{padding:12}),t),backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}});t.default=function(){var e=Pe(),t=Object(p.b)(),a=["application/json"],l=c.a.useState(null),r=Object(o.a)(l,2),i=r[0],m=r[1],u=c.a.useState(null),g=Object(o.a)(u,2),v=g[0],y=g[1],x=c.a.useState(null),O=Object(o.a)(x,2),k=O[0],N=O[1],j=c.a.useState(""),S=Object(o.a)(j,2),I=S[0],_=S[1],D=c.a.useState({id:"",question:"",answer:"",start_offset:null}),z=Object(o.a)(D,2),q=z[0],Y=z[1],A=c.a.useState([]),H=Object(o.a)(A,2),F=H[0],L=H[1],M=c.a.useState(""),P=Object(o.a)(M,2),T=P[0],R=P[1],W=c.a.useState({add:!1,edit:!1}),B=Object(o.a)(W,2),Q=B[0],J=B[1],V=c.a.useState([]),U=Object(o.a)(V,2),K=U[0],X=U[1],G=c.a.useState([]),Z=Object(o.a)(G,2),ee=Z[0],te=Z[1],ae=c.a.useState(""),ne=Object(o.a)(ae,2),oe=ne[0],le=(ne[1],c.a.useState("ALL")),re=Object(o.a)(le,2),ce=re[0],ie=re[1],se=c.a.useState("ALL"),me=Object(o.a)(se,2),fe=me[0],ue=me[1],ge=c.a.useState([]),he=Object(o.a)(ge,2),pe=he[0],Ee=he[1];c.a.useEffect(function(){m({fileName:"",fileSize:"",fileContent:""}),y({fileName:"",fileSize:"",fileContent:""}),N({file_name:"",docs:""})},[]),c.a.useEffect(function(){var e=null!==I&&""!==I&&v.fileContent.docs.filter(function(e,t){return e.doc_id===I});R(e.length>0?e[0].context:""),L(e.length>0?e[0].qna:[]),Y({id:"",question:"",answer:"",start_offset:null}),J({add:!1,edit:!1})},[I]);var be=function(e){t(E.a());try{console.log("\ubcd1\ud569 \ub370\uc774\ud1301: ",k);var a={file_name:C()().format("YYYYMMDDHHmmss"),docs:[]},n=0;if(k.forEach(function(e){e.docs.docs.forEach(function(e){a.docs.push(e),a.docs.forEach(function(t){t.doc_id===e.doc_id&&n++})})}),console.log("newArray: ",a),n>0){var o=a.docs.filter(function(e){var t=Object.keys(e).map(function(t){return e[t]}).join("|");if(!this[t])return this[t]=!0},Object.create(null));console.log("filtered : ",o);var l={file_name:C()().format("YYYYMMDDHHmmss"),docs:o},r=C()().format("YYYYMMDDHHmmss")+".json",c=JSON.stringify(l,null,"\t");t(E.h({title:"\ud655\uc778",content:"\uc120\ud0dd\ud55c \ud30c\uc77c\uc911 \uc911\ubcf5\ub41c ID\uc758 \ubb38\uc11c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc81c\uc678\ud558\uace0 \ubcd1\ud569\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:ve,callback_param:{fileName:r,convertData:c}}))}else{var i=C()().format("YYYYMMDDHHmmss")+".json",s=JSON.stringify(a,null,"\t");w()(s,i)}}catch(d){console.log(d)}};function ve(e){t(E.a()),w()(e.convertData,e.fileName)}var we=function(){t(E.a()),console.log("\ucd94\ucd9c \ub370\uc774\ud1301: ",v),console.log("\ucd94\ucd9c \ub370\uc774\ud1302: ",v.fileContent),console.log("\ucd94\ucd9c \ub370\uc774\ud1303: ",v.fileContent.docs);var e={file_name:C()().format("YYYYMMDDHHmmss"),docs:[]};v.fileContent.docs.forEach(function(t){e.docs.push(t)}),console.log("newFile: ",e),console.log("newArray: ",e.docs);var a=JSON.stringify(e,null,"\t"),n=C()().format("YYYYMMDDHHmmss")+".json";w()(a,n)};function ye(e){return a.includes(e.type)}function Ce(e){return e<1024?e+" bytes":e>1024&&e<1048576?(e/1024).toFixed(1)+" KB":e>1048576?(e/1048576).toFixed(1)+" MB":void 0}var xe=function(e,t,a,n){var o=h.a.filter(e,function(e){return e.context.indexOf(t)>-1});return"ALL"!==a&&("Y"===a?o=h.a.filter(o,{write_complete:"Y"}):"N"===a&&(o=h.a.filter(o,{write_complete:"N"}))),"ALL"!==n&&("Y"===n?o=h.a.filter(o,{excepted:"Y"}):"N"===n&&(o=h.a.filter(o,{excepted:"N"}))),o}(null===v||""===v.fileContent?[]:Object(n.a)(v.fileContent.docs),oe,ce,fe),Oe=function(e){t(E.a()),ke(I,q,e)},ke=function(e,a,n){var o=[];v.fileContent.docs.forEach(function(t){t.doc_id===e?o.push(Me({},t,{write_complete:n.type})):o.push(Me({},t))}),console.log("newArray: ",o),y(Me({},v,{fileContent:Me({},v.fileContent,{docs:o})}));var l="Y"===n.type?"\uc791\uc131\uc644\ub8cc":"\uc791\uc131\ubbf8\uc644\ub8cc";t(E.l({message:"[\ubb38\uc11cID: "+e+"] "+l+" \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}))},Ne=function(){t(E.a());var e=[].concat(Object(n.a)(F),[q]);L(e),Y({id:"",question:"",answer:"",start_offset:null}),J(Me({},Q,{add:!1,edit:!1})),window.getSelection().removeAllRanges(),je(I,q)},je=function(e,a){console.log("onAdd"),console.log("doc_id: ",e),console.log("qnaInfo: ",a);var n=[];v.fileContent.docs.forEach(function(t){t.doc_id===e?n.push(Me({},t,{qna:t.qna.concat(a)})):n.push(Me({},t))}),console.log("newArray: ",n),y(Me({},v,{fileContent:Me({},v.fileContent,{docs:n})})),t(E.l({message:"QnA \ub9ac\uc2a4\ud2b8\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}))},Se=function(){t(E.a()),J(Me({},Q,{add:!1,edit:!1})),window.getSelection().removeAllRanges(),Ie(I,q)},Ie=function(e,a){console.log("onEdit");var n=[];v.fileContent.docs.forEach(function(t){if(t.doc_id===e){var o=t.qna.map(function(e){return e.id===a.id?Me({},e,{id:a.id,question:a.question,answer:a.answer,start_offset:a.start_offset}):e});n.push(Me({},t,{qna:o}))}else n.push(Me({},t))}),console.log("newArray: ",n),y(Me({},v,{fileContent:Me({},v.fileContent,{docs:n})})),t(E.l({message:"QnA \ub9ac\uc2a4\ud2b8\uac00 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}))},_e=function(e){t(E.a()),J(Me({},Q,{add:!1,edit:!1})),window.getSelection().removeAllRanges(),De(I,e)},De=function(e,a){console.log("onDelete"),console.log("doc_id: ",e),console.log("qna_id: ",a.qna_id);var n=[];v.fileContent.docs.forEach(function(t){if(t.doc_id===e){var o=t.qna.filter(function(e){return e.id!==a.qna_id});n.push(Me({},t,{qna:o}))}else n.push(Me({},t))}),console.log("newArray: ",n),y(Me({},v,{fileContent:Me({},v.fileContent,{docs:n})})),t(E.l({message:"QnA \ub9ac\uc2a4\ud2b8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}))};return c.a.createElement("div",{className:Object(d.a)(e.contentCardWrapper,"container")},c.a.createElement(f.a,{container:!0,spacing:2,justify:"center"},c.a.createElement(f.a,{item:!0,container:!0,direction:"column",xs:12,sm:5,spacing:2},c.a.createElement(f.a,{item:!0},c.a.createElement(b.a,{style:{height:"40vh"}},c.a.createElement($,{readFileSelect:function(e){var a=[],n=[];if(e.target.files.length<2)t(E.l({message:"\ubcd1\ud569\ud560 \ud30c\uc77c 2\ub97c \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),N(null);else if(e.target.files.length>2)t(E.l({message:"\ud30c\uc77c\uc740 \ucd5c\ub300 2\uac1c \uae4c\uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),N(null);else for(var o=function(){var o=e.target.files[l];if(!ye(o))return t(E.l({message:"json \ud30c\uc77c\ub9cc \uc120\ud0dd\ud558\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),{v:void 0};var r=new FileReader;r.onload=function(){console.log("\ud30c\uc77c\uba85: ",o.name),console.log("\ud30c\uc77c\ud06c\uae30: ",Ce(o.size));var e=JSON.parse(r.result);console.log("jsonData: ",e),a.push({file_name:o.name,docs:e}),N(a),n.push(o.name),Ee(n),console.log("fileSelect: ",k),console.log("arrarrarrarrarr: ",a)},r.readAsText(o)},l=0;l<e.target.files.length;l++){var r=o();if("object"===typeof r)return r.v}},readFileChange:function(e){if(!(e.target.files.length<1)){var a=e.target.files[0];if(ye(a)){var n=new FileReader;n.onload=function(){console.log("\ud30c\uc77c\uba85: ",a.name),console.log("\ud30c\uc77c\ud06c\uae30: ",Ce(a.size));var e=JSON.parse(n.result);console.log("jsonData: ",e),m({fileName:a.name,fileSize:Ce(a.size),fileContent:e}),y({fileName:a.name,fileSize:Ce(a.size),fileContent:e}),console.log("AllFileInfo : ",i),console.log("FileInfo : ",v)},n.readAsText(a)}else t(E.l({message:"json \ud30c\uc77c\ub9cc \uc120\ud0dd\ud558\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}))}},fileSelect:k,fileInfo:v,fileExport:function(){console.log("\ucd94\ucd9c \ub370\uc774\ud130: ",v.fileContent),t(E.h({title:"\ud655\uc778",content:"\ud30c\uc77c\uc744 \ucd94\ucd9c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:we}))},fileMerge:function(){console.log("FileSelect: ",k),t(null!==k?E.h({title:"\ud655\uc778",content:"\uc120\ud0dd\ub41c \ud30c\uc77c\ub4e4\uc744 \ud558\ub098\uc758 \ud30c\uc77c\ub85c \ubcd1\ud569\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:be}):E.l({message:"\ubcd1\ud569\ud560 \ud30c\uc77c\ub4e4\uc744 \uc120\ud0dd\ud558\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}))},fileNameArr:pe}))),c.a.createElement(f.a,{item:!0},c.a.createElement(b.a,{style:{height:"90vh"}},c.a.createElement(de,{rowId:I,fileInfo:v,rowClick:function(e,t){_(t)},handleSwitchChange:function(e,t){var a=v.fileContent.docs.map(function(a){return a.doc_id===t?Me({},a,{excepted:e.target.checked?"Y":"N"}):a});y(Me({},v,{fileContent:Me({},v.fileContent,{docs:a})}))},getCnt:function(){var e,t=0,a=0,n=v.fileContent.docs;return e=n.length,n.forEach(function(e){t=v.fileContent.docs.filter(function(e){return"Y"===e.excepted}).length,a=v.fileContent.docs.filter(function(e){return"N"===e.write_complete}).length}),c.a.createElement("div",{style:{color:"#ff9800"}},"\ubb38\uc11c \uc804\uccb4 \uac74\uc218: ".concat(e," ( \uc81c\uc678 \uac74\uc218: ").concat(t," / \uc791\uc131 \ubbf8\uc644\ub8cc \uac74\uc218: ").concat(a," )"))},onChangeComplete:function(e){ie(e.target.value)},onChangeExcepted:function(e){ue(e.target.value)},docArr:xe,searchWriteCompleteValue:ce,searchExceptedValue:fe})))),c.a.createElement(f.a,{item:!0,xs:12,sm:7},c.a.createElement(b.a,{style:{height:"131.7vh"}},c.a.createElement(Fe,{rowId:I,data:null!==v?v.fileContent:null,selectedId:I,qnaState:q,context:T,writeType:Q,searchText:ee,contextOnMouseUp:function(e,t,a,n){console.log("selObj : ",e),console.log("range : ",t),console.log("startOffset : ",t.startOffset),""!==n&&Y(Me({},q,{id:"".concat(I,"-").concat(a+1),answer:e.toString(),start_offset:t.startOffset})),e.toString()!==K.answer?J(Me({},Q,{add:!1,edit:!0})):J(Me({},Q,{add:!1,edit:!1}))},handleChangeQuestion:function(e){Y(Me({},q,{question:e.target.value})),e.target.value!==K.question?J(Me({},Q,{add:!1,edit:!0})):J(Me({},Q,{add:!1,edit:!1}))},qnaRowClick:function(e,t){if(X(t),"TD"===e.target.nodeName){Y(Me({},q,{id:t.id,question:t.question,answer:t.answer,start_offset:t.start_offset})),J(Me({},Q,{add:!1,edit:!1}));var a=[];""!==e.target.value?(a.push(t.answer),te(a)):te([])}},writeComplete:function(e){if(console.log("qnaList: ",F),console.log("state: ",q),0!==F.length){var a="Y"===e?"\uc791\uc131\uc644\ub8cc":"\uc791\uc131\ubbf8\uc644\ub8cc";t(E.h({title:"\ud655\uc778",content:"[\ubb38\uc11cID: "+I+"] "+a+" \ucc98\ub9ac\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:Oe,callback_param:{type:e}}))}else t(E.l({message:"Q&A \ub9ac\uc2a4\ud2b8\ub97c \uc0dd\uc131\ud574 \uc8fc\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}))},docComplete:Oe,handleNew:function(){Y({id:s()(),question:"",answer:"",start_offset:null}),J(Me({},Q,{add:!0,edit:!1})),window.getSelection().removeAllRanges()},handleAdd:function(){""===q.question?t(E.l({message:"\uc9c8\ubb38\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})):""===q.answer?t(E.l({message:"\ub2f5\ubcc0\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})):null===q.start_offset?t(E.l({message:"\ub2f5\ubcc0\uc2dc\uc791\uc704\uce58\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})):t(E.h({title:"\ud655\uc778",content:"\uc785\ub825\ud558\uc2e0 \uc9c8\ubb38 & \ub2f5\ubcc0\uc744 \ub9ac\uc2a4\ud2b8\uc5d0 \ucd94\uac00\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:Ne}))},handleEdit:function(){t(E.h({title:"\ud655\uc778",content:"[QnA ID: "+q.id+"] \ub9ac\uc2a4\ud2b8\ub97c \uc218\uc815\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:Se}))},handleDel:function(e){t(E.h({title:"\ud655\uc778",content:"[QnA ID: "+e+"] \ub9ac\uc2a4\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:_e,callback_param:{qna_id:e}}))}})))))}}}]);