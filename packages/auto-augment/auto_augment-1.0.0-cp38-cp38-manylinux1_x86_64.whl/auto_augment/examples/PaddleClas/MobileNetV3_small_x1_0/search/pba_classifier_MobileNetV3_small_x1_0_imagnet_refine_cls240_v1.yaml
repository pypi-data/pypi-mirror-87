task_config:
    run_mode: "ray"
    workspace: "./work_dirs/pbt_classifer/test_aug_imagenet"
    task_type: "classifier"
    classifier:
        model_name: "MobileNetV3_small_x1_0"
        model_yaml: "examples/PaddleClas/MobileNetV3_small_x1_0/search/MobileNetV3_small_x1_0.yaml"
        classifier_type: "single_label"
        epochs: 360
        early_stopper: None

data_config:
    train_img_prefix: "./dataset/imagenet/"
    train_ann_file: "./dataset/imagenet/reduce_train_cls240_num_100.txt"
    val_img_prefix: "./dataset/imagenet/"
    val_ann_file: "./dataset/imagenet/reduce_val_cls240_num_100.txt"
    label_list: "./dataset/imagenet//label_list.txt"
    delimiter: " "
    anno_type: "txt"
    sample:
        type: "stratify_sample"

        sample_ratio: 1
        mode: "static"

resource_config:
    gpu: 0.4
    cpu: 1

algo_config:
    algo_name: "PBA"
    algo_param:
        perturbation_interval: 3
        num_samples: 16

search_space:
    static_init: True
    policy_init_value: 0
    operator_space:
        -
            name: Sharpness
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
        -
            name: Rotate
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: Invert
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: Brightness
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: Cutout
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
        -
            name: Equalize
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: TranslateY
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: AutoContrast
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: Color
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
        -
            name: TranslateX
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: Solarize
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: ShearX
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: Contrast
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: Posterize
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: ShearY
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]

        -
            name: FlipLR
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
