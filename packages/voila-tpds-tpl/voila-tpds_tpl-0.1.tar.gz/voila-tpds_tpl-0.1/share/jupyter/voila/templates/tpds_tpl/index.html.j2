{%- extends 'nbconvert/templates/classic/index.html.j2' -%}
{% import "log.macro.html.j2" as log %}
{% from 'voila_setup.macro.html.j2' import voila_setup with context %}

{%- block html_head_js -%}
{%- block html_head_js_logs -%}
{{ log.js() }}
{%- endblock html_head_js_logs -%}
{%- block html_head_js_jquery -%}
<script src="{{ resources.jquery_url }}"></script>
{%- endblock html_head_js_jquery -%}
{% block notebook_execute %}
    {%- set kernel_id = kernel_start(nb) -%}
    <script id="jupyter-config-data" type="application/json">
    {
        "baseUrl": "{{resources.base_url}}",
        "kernelId": "{{kernel_id}}"
    }
    </script>
    {# from this point on, nb.cells contains output of the executed cells #}
    {% do notebook_execute(nb, kernel_id) %}
{%- endblock notebook_execute -%}

{%- endblock html_head_js -%}

{%- block html_head_css -%}
  {{ resources.include_css("static/materialcolors.css") }}
  {{ resources.include_css("static/labvariables.css") }}
  <style>
    /*Hide empty cells*/
    .jp-mod-noOutputs.jp-mod-noInput {
      display: none;
    }
  </style>
<link rel="stylesheet" href="https://unpkg.com/font-awesome@4.5.0/css/font-awesome.min.css" type="text/css" />
{{ super() }}
{%- endblock html_head_css -%}

{% block body_header %}
<body data-base-url="{{resources.base_url}}voila/">

{% endblock body_header %}

{% block footer_js %}
{{ voila_setup(resources.base_url, resources.nbextensions) }}
<script type="text/javascript">

    var coll = document.getElementsByClassName("collapsible");
    var i;

    for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.maxHeight){
        content.style.maxHeight = null;
        } else {
        content.style.maxHeight = content.scrollHeight + "px";
        }
    });
    }
	
	var coll2 = document.getElementsByClassName("collapsible2");
    coll2[0].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = document.getElementsByClassName("content2");
		var k;
		for (k = 0; k < content.length; k++){
        if (content[k].style.maxHeight){
        content[k].style.maxHeight = null;
        } else {
        content[k].style.maxHeight = content[k].scrollHeight + "px";
        }}
    });
</script>
{% endblock footer_js %}

