(this["webpackJsonpucess-talk-admin"]=this["webpackJsonpucess-talk-admin"]||[]).push([[23],{1103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(935),c=a.n(l),o=a(936),i=a(20),u=a(119),s=a(912),d=a(1010),m=a(1011),p=a(1032),b=a(924),g=a(1106),f=[{id:"model",numeric:!0,disablePadding:!0,label:"Model\uba85"},{id:"trained_at",numeric:!0,disabledPadding:!0,label:"Model \ud559\uc2b5 \uc77c\uc2dc"},{id:"state",numeric:!0,disabledPadding:!0,label:"Model \uc0c1\ud0dc"}],h=function(e){console.log("ModelTableHead",e);var t=e.onSelectAllClick,a=e.order,n=e.orderBy,l=e.numSelected,c=e.rowCount,o=e.onRequestSort;return r.a.createElement(d.a,null,r.a.createElement(m.a,null,r.a.createElement(p.a,{padding:"checkbox"},r.a.createElement(b.a,{indeterminate:l>0&&l<c,checked:l===c,onChange:t,inputProps:{"aria-label":"\ubaa8\ub378 \uc804\uccb4 \uc120\ud0dd"}})),f.map(function(e){return r.a.createElement(p.a,{key:e.id,align:e.numeric?"center":"right",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(g.a,{active:n===e.id,direction:a,onClick:(t=e.id,function(e){o(e,t)})},e.label));var t})))},v=a(10),E=a(968),k=a(19),O=a(916),j=a(908),x=a(839),w=a(3),N=a(941),y=a.n(N),C=a(1056),S=a.n(C),P=a(942),M=a.n(P),_=Object(E.a)(function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColot:Object(k.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.primary.dark},spacer:{flex:"1 1 100%"},actions:{flex:"0 0 auto",justifyContent:"flex-end",color:e.palette.text.primary},title:{flex:"0 0 auto"}}}),D=function(e){var t=_(),a=e.numSelected,n=e.onRefresh,l=e.onActive,c=e.onRemove;return r.a.createElement(O.a,{className:Object(w.a)(t.root,Object(v.a)({},t.highlight,a>0))},r.a.createElement("div",{className:t.title},a>0?r.a.createElement(u.a,{color:"inherit",variant:"subtitle1"},a," \uac1c \ubaa8\ub378\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4"):r.a.createElement(u.a,{variant:"h6",id:"tableTitle"},"\ud559\uc2b5 Model \ub9ac\uc2a4\ud2b8")),r.a.createElement("div",{className:t.spacer}),r.a.createElement("div",{className:t.actions},a>0?1===a?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{title:"\ubaa8\ub378 \ud65c\uc131\ud654"},r.a.createElement(x.a,{"aria-label":"Active Model",onClick:l},r.a.createElement(S.a,null))),r.a.createElement(j.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},r.a.createElement(x.a,{"aria-label":"Delete Model",onClick:c},r.a.createElement(y.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{title:"\ubaa8\ub378 \uc0ad\uc81c"},r.a.createElement(x.a,{"aria-label":"Delete Model",onClick:c},r.a.createElement(y.a,null)))):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{title:"\uc7ac\uc870\ud68c"},r.a.createElement(x.a,{"aria-label":"Refresh Model",onClick:n},r.a.createElement(M.a,null))))))},B=a(1084),R=a(1053),T=a(1054),A=a(934),z=a.n(A),I=a(1057),H=a.n(I),L=a(914),F=Object(E.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},search:{border:"2px solid #039BE5"},btn:{position:"relative",left:"92%"},subTitle:{color:"#039BE5"}}});function W(e){var t=e.trainModelDialogOpen,a=F();return r.a.createElement("div",{className:a.root},r.a.createElement("div",{className:a.search},r.a.createElement(B.a,null,r.a.createElement(R.a,{"aria-controls":"panel1d-content",id:"panel1d-header",expandIcon:r.a.createElement(z.a,null)},r.a.createElement(u.a,{variant:"h6"},"\ubaa8\ub378 \ud559\uc2b5"),r.a.createElement("div",{className:a.subTitle},r.a.createElement(u.a,{variant:"subtitle1"}," ","\xa0\xa0\xa0\xa0\ud074\ub9ad\uc2dc \uc601\uc5ed\uc744 \ud3bc\uce58\uae30 / \uc811\uae30 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."))),r.a.createElement(T.a,null,r.a.createElement("div",{className:a.btn},r.a.createElement(L.a,{variant:"contained",color:"secondary",className:a.button,startIcon:r.a.createElement(H.a,null),onClick:function(){return t()}},"\ubaa8\ub378 \ud559\uc2b5"))))))}var q=a(438),J=a(952),X=a.n(J),Y=a(933),G=a.n(Y),K=a(932),Q=a.n(K),U=a(951),V=a.n(U),Z=a(7),$=a(37),ee=a.n($),te="/api/projects";function ae(e,t){var a=Object.keys(t).map(function(e){return e+"="+t[e]}).join("&");return ee.a.get(te+"/"+e+"/models?"+a)}function ne(e,t){return ee.a.put(te+"/"+e+"/models/"+t+"/tags/production")}function re(e,t){return ee.a.delete(te+"/"+e+"/models/"+t)}var le=a(18),ce=a(9),oe=a(32),ie=a(154),ue=a(1012),se=a(1013),de=a(1083),me=a(902),pe=a(903),be=a(25),ge=a(52),fe={selectedModel:{}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},ve=Object(ge.d)({modelTableApp:he}),Ee=a(302),ke=Object(ce.a)(function(e){return{root:{color:"#f08c00"}}})(p.a),Oe=Object(E.a)(function(e){return{progress:{width:"80%",margin:"0 12px 0 30px","& > * + *":{marginTop:e.spacing(2)}},root:{width:"100%",marginTop:e.spacing(3)},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},tableWrapper:{overflowX:"auto"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},production:{backgroundColor:"#039BE5 !important"}}});function je(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function xe(e){var t=new Date(1e3*e),a=t.getFullYear(),n=1+t.getMonth();n=n>=10?n:"0"+n;var r=t.getDate(),l=a+"-"+n+"-"+(r=r>=10?r:"0"+r),c=t.getHours(),o="0"+t.getMinutes(),i="0"+t.getSeconds(),u=c+":"+o.substr(-2)+":"+i.substr(-2);return console.log(l),console.log(u),l+" "+u}var we=Object(E.a)(function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)}}});function Ne(e){var t=we(),a=Object(oe.a)(),n=e.count,l=e.page,c=e.rowsPerPage,o=e.onChangePage;return r.a.createElement("div",{className:t.root},r.a.createElement(x.a,{onClick:function(e){o(e,0)},disabled:0===l,"aria-label":"first page"},"rtl"===a.direction?r.a.createElement(V.a,null):r.a.createElement(X.a,null)),r.a.createElement(x.a,{onClick:function(e){o(e,l-1)},disabled:0===l,"aria-label":"previous page"},"rtl"===a.direction?r.a.createElement(Q.a,null):r.a.createElement(G.a,null)),r.a.createElement(x.a,{onClick:function(e){o(e,l+1)},disabled:l>=Math.ceil(n/c)-1,"aria-label":"next page"},"rtl"===a.direction?r.a.createElement(G.a,null):r.a.createElement(Q.a,null)),r.a.createElement(x.a,{onClick:function(e){o(e,Math.max(0,Math.ceil(n/c)-1))},disabled:l>=Math.ceil(n/c)-1,"aria-label":"last page"},"rtl"===a.direction?r.a.createElement(X.a,null):r.a.createElement(V.a,null)))}var ye=Object(Ee.a)("ModelTableApp",ve)(function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],d=Object(n.useState)(!1),g=Object(i.a)(d,2),f=(g[0],g[1]),v=Object(n.useState)("asc"),E=Object(i.a)(v,2),k=E[0],O=E[1],j=Object(n.useState)("model"),x=Object(i.a)(j,2),w=x[0],N=x[1],y=Object(n.useState)([]),C=Object(i.a)(y,2),S=C[0],P=C[1],M=Object(n.useState)(.5),_=Object(i.a)(M,2),B=_[0],R=_[1],T=Object(n.useState)(0),A=Object(i.a)(T,2),z=A[0],I=A[1],H=Object(n.useState)(!0),L=Object(i.a)(H,2),F=L[0],J=L[1],X=Object(n.useState)(10),Y=Object(i.a)(X,2),G=Y[0],K=Y[1],Q=Object(n.useState)(),U=Object(i.a)(Q,2),V=U[0],$=(U[1],Object(n.useState)(0)),ce=Object(i.a)($,2),oe=ce[0],ge=(ce[1],Object(n.useState)(!1)),fe=Object(i.a)(ge,2),he=fe[0],ve=fe[1],Ee=r.a.useState(!1),we=Object(i.a)(Ee,2),ye=we[0],Ce=we[1],Se=Object(n.useState)(""),Pe=Object(i.a)(Se,2),Me=Pe[0],_e=Pe[1],De=Object(Z.b)();Object(n.useEffect)(function(){(function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,ae("default",{limit:""===V||null===V?null:V,offset:""===oe||null===oe?null:oe});case 4:t=e.sent,console.log(t),l(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:P([]),f(!1),"trained_at"===w&&"desc"===k,O("desc"),N("trained_at");case 17:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}})()()},[z,G]);var Be=function(){Ce(!1)},Re=function(){var e=Object(o.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ve({showLoading:!1}),console.log("refreshList",t),f(!0),e.prev=3,e.next=6,ae("default",{limit:""===V||null===V?null:V,offset:""===oe||null===oe?null:oe});case 6:a=e.sent,console.log(a),xe(a.data[0].trained_at),l(a.data),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:P([]),f(!1),"trained_at"===w&&"desc"===k,O("desc"),N("trained_at");case 21:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}();function Te(e,t){console.log("handleClick",e,t);var a=S.indexOf(t),n=[];-1===a?n=n.concat(S,t):0===a?n=n.concat(S.slice(1)):a===S.length-1?n=n.concat(S.slice(0,-1)):a>0&&(n=n.concat(S.slice(0,a),S.slice(a+1))),P(n)}var Ae=G-Math.min(G,a.length-z*G),ze=Oe(),Ie=function(){De(le.a()),qe()},He=function(){De(le.a()),Le()},Le=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne("default",Me);case 2:t=e.sent,console.log(t),Re(null),De(le.l({message:"\uc2e0\uaddc \ubaa8\ub378\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("active model process"),console.log("selected model",S),!(S.length>0)){e.next=14;break}if(!(S.length>1)){e.next=8;break}De(le.l({message:"\ud558\ub098\uc758 \ubaa8\ub378\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694. (\ubcf5\uc218 \ubd88\uac00)",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),Re(null),e.next=14;break;case 8:return e.next=10,ne("default",S[0]);case 10:t=e.sent,console.log(t),De(le.l({message:"\uc120\ud0dd\ud55c \ubaa8\ub378\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),Re(null);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),We=function(){var e=Object(o.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(De(le.a()),!(S.length>0)){e.next=8;break}return e.next=4,S.map(function(e){re("default",e)});case 4:e.sent,P([]),Re(null),De(le.l({message:"\uc120\ud0dd\ud55c \ubaa8\ub378\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3}));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(o.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Ce(!ye),f(!0),e.prev=2,Je(),e.next=6,a="default",ee.a.post(te+"/"+a+"/models/jobs");case 6:t=e.sent,console.log(t),_e(t.data.model),De(le.h({title:"\ubaa8\ub378 \ud559\uc2b5 \uc644\ub8cc",content:"\uc0c8\ub85c\uc6b4 \ubaa8\ub378\uc774 \ud559\uc2b5 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc0c8\ub85c\uc6b4 \ubaa8\ub378\ub85c \ud65c\uc131\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:He,confirmBtn_name:"\ud65c\uc131\ud654",cancelBtn_name:"\ub2eb\uae30"})),Be(),f(!1),Re(null),e.next=23;break;case 15:return e.prev=15,e.t0=e.catch(2),console.log(e.t0),De(le.l({message:"\ubaa8\ub378 \ud559\uc2b5\uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758 \ud558\uc138\uc694.",variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3})),Be(),f(!1),Re(null),e.abrupt("return",!1);case 23:case"end":return e.stop()}var a},e,null,[[2,15]])}));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=he.showLoading;ve({showLoading:!e})},Xe=null;return he.showLoading&&(Xe=r.a.createElement("div",{className:"flex flex-1 flex-col items-center justify-center"},r.a.createElement(u.a,{className:"text-20 mb-16",color:"textSecondary"},"\ubaa8\ub378 \ud559\uc2b5 \uc9c4\ud589 \uc911..."),r.a.createElement(s.a,{className:"w-xs",color:"secondary"}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"kt-section__expandPanel"},r.a.createElement(W,{trainModelDialogOpen:function(){De(le.h({title:"\uc2e0\uaddc \ubaa8\ub378 \ud559\uc2b5",content:"\ubaa8\ub378 \ud559\uc2b5\uc744 \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? ( \ubaa8\ub378 \ud559\uc2b5\uc774 \uc9c4\ud589\ub41c \ud6c4 \ucde8\uc18c\uac00 \ubd88\uac00\ud569\ub2c8\ub2e4. )",callback:Ie,confirmBtn_name:"\ud559\uc2b5 \uc9c4\ud589",cancelBtn_name:"\ub2eb\uae30"}))}})),r.a.createElement(q.a,{className:ze.backdrop,open:ye},r.a.createElement("div",null,Xe)),r.a.createElement("div",{className:"kt-section__content"},r.a.createElement(ie.a,{className:ze.root},r.a.createElement(D,{numSelected:S.length,onRefresh:Re,onActive:Fe,onRemove:function(){De(le.h({title:"\uc54c\ub9bc",content:"\uc120\ud0dd\ud55c \ubaa8\ub378\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",callback:We}))}}),r.a.createElement("div",{className:ze.tableWrapper},r.a.createElement(ue.a,{className:ze.table,"aria-labelledby":"tableTitle",size:F?"small":"medium"},r.a.createElement(h,{numSelected:S.length,order:k,orderBy:w,onSelectAllClick:function(e){if(S.length!==B){var t=[];for(var n in a)0===z?n<G&&t.push(a[Number(n)+Number(z)].model):Number(n)+Number(z)*Number(G)<(Number(z)+Number(1))*Number(G)&&(Number(n)+Number(z)*Number(G)<a.length?t.push(a[Number(n)+Number(z)*Number(G)].model):P([]));return P(t),void R(t.length)}P([]),R(.5)},onRequestSort:function(e,t){O(w===t&&"desc"===k?"asc":"desc"),N(t)},rowCount:a.length}),r.a.createElement(se.a,null,function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}(a,function(e,t){return"desc"===e?function(e,a){return je(e,a,t)}:function(e,a){return-je(e,a,t)}}(k,w)).slice(z*G,z*G+G).map(function(e,t){var a,n=(a=e.model,-1!==S.indexOf(a)),l="mnodel-table-checkbox-".concat(t);return"production"===e.tags[0]?r.a.createElement(be.c,{animation:"transition.fadeIn",duration:400,delay:100,key:e.model},r.a.createElement(m.a,{hover:!0,onClick:function(t){return Te(t,e.model)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.model,selected:n},r.a.createElement(ke,{padding:"checkbox"},r.a.createElement(b.a,{checked:n,inputProps:{"aria-labelledby":l}})),r.a.createElement(ke,{align:"center",component:"th",id:l,scope:"row",padding:"none"},e.model),r.a.createElement(ke,{align:"center"},xe(e.trained_at)),r.a.createElement(ke,{align:"center"},e.tags))):r.a.createElement(be.c,{animation:"transition.fadeIn",duration:400,delay:100,key:e.model},r.a.createElement(m.a,{hover:!0,onClick:function(t){return Te(t,e.model)},role:"checkbox","aria-checked":n,tabIndex:-1,key:e.model,selected:n},r.a.createElement(p.a,{padding:"checkbox"},r.a.createElement(b.a,{checked:n,inputProps:{"aria-labelledby":l}})),r.a.createElement(p.a,{align:"center",component:"th",id:l,scope:"row",padding:"none"},e.model),r.a.createElement(p.a,{align:"center"},xe(e.trained_at)),r.a.createElement(p.a,{align:"center"},e.tags)))}),Ae>0&&r.a.createElement(m.a,{style:{height:49*Ae}},r.a.createElement(p.a,{colSpan:4}))))),r.a.createElement(de.a,{rowsPerPageOptions:[10,50,100,{label:"All",value:-1}],component:"div",count:a.length,rowsPerPage:G,page:z,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){I(t)},onChangeRowsPerPage:function(e){K(+e.target.value)},ActionsComponent:Ne,labelRowsPerPage:"\ud45c\uc2dc\uac74\uc218: "})),r.a.createElement(me.a,{control:r.a.createElement(pe.a,{checked:F,onChange:function(e){J(e.target.checked)}}),label:"\uac04\uaca9 \uc904\uc774\uae30",className:"ml-8"})))});t.default=function(){return r.a.createElement(ye,null)}}}]);