.\" Man page generated from reStructuredText.
.
.TH "KIWI::SYSTEM::PREPARE" "8" "Dec 03, 2020" "9.22.0" "KIWI NG"
.SH NAME
kiwi::system::prepare \- Prepare image root system
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
kiwi\-ng [global options] service <command> [<args>]

kiwi\-ng system prepare \-h | \-\-help
kiwi\-ng system prepare \-\-description=<directory> \-\-root=<directory>
    [\-\-allow\-existing\-root]
    [\-\-clear\-cache]
    [\-\-ignore\-repos]
    [\-\-ignore\-repos\-used\-for\-build]
    [\-\-set\-repo=<source,type,alias,priority,imageinclude,package_gpgcheck>]
    [\-\-add\-repo=<source,type,alias,priority,imageinclude,package_gpgcheck>...]
    [\-\-add\-package=<name>...]
    [\-\-add\-bootstrap\-package=<name>...]
    [\-\-delete\-package=<name>...]
    [\-\-signing\-key=<key\-file>...]
kiwi\-ng system prepare help
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
Create a new image root directory. The prepare step builds a new image
root directory from the specified XML description. The specified
root directory is the root directory of the new image root system.
As the root user you can enter this system via chroot as follows:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
$ chroot <directory> bash
.ft P
.fi
.UNINDENT
.UNINDENT
.SH OPTIONS
.INDENT 0.0
.TP
.BI \-\-add\-bootstrap\-package\fB= <name>
specify package to install as part of the early kiwi bootstrap phase.
The option can be specified multiple times
.TP
.BI \-\-add\-package\fB= <name>
specify package to add(install). The option can be specified
multiple times
.TP
.BI \-\-add\-repo\fB= <source,type,alias,priority,imageinclude,package_gpgcheck>
See the kiwi::system::build manual page for further details
.TP
.B \-\-allow\-existing\-root
allow to re\-use an existing image root directory
.TP
.B \-\-clear\-cache
delete repository cache for each of the used repositories
before installing any package. This is useful if an image build
should take and validate the signature of the package from the
original repository source for any build. Some package managers
unconditionally trust the contents of the cache, which is ok for
cache data dedicated to one build but in case of kiwi the cache
is shared between multiple image builds on that host for performance
reasons.
.TP
.BI \-\-delete\-package\fB= <name>
specify package to delete. The option can be specified
multiple times
.TP
.BI \-\-description\fB= <directory>
Path to the kiwi XML description. Inside of that directory there
must be at least a config.xml of *.kiwi XML description.
.TP
.B \-\-ignore\-repos
Ignore all repository configurations from the XML description.
Using that option is usally done with a sequence of \-\-add\-repo
options otherwise there are no repositories available for the
image build which would lead to an error.
.TP
.B \-\-ignore\-repos\-used\-for\-build
Works the same way as \-\-ignore\-repos except that repository
configurations which has the imageonly attribute set to true
will not be ignored.
.TP
.BI \-\-root\fB= <directory>
Path to create the new root system.
.TP
.BI \-\-set\-repo\fB= <source,type,alias,priority,imageinclude,package_gpgcheck>
See the kiwi::system::build manual page for further details
.TP
.BI \-\-signing\-key\fB= <key\-file>
set the key file to be trusted and imported into the package
manager database before performing any opertaion. This is useful
if an image build should take and validate repository and package
signatures during build time. This option can be specified multiple
times.
.UNINDENT
.SH AUTHOR
Marcus Schäfer
.SH COPYRIGHT
2020, Marcus Schäfer
.\" Generated by docutils manpage writer.
.
