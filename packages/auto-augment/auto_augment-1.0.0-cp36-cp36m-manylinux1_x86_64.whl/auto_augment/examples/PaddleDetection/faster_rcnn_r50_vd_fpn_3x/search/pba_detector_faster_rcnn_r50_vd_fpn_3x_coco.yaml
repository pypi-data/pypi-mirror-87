task_config:
    run_mode: "ray"
    workspace: "./work_dirs/pbt_detector/test_autoaug"
    task_type: "detector"
    detector:
        model_name: "faster_rcnn_r50_fpn_2x"
        model_yaml: "examples/PaddleDetection/faster_rcnn_r50_vd_fpn_3x/search/faster_rcnn_r50_vd_fpn_3x.yml"
        epochs: 37
        early_stopper: None
        #reward_name: mAP@iou0.5
        reward_name: mAP@iouall

data_config:
    train_img_prefix: "./dataset/coco/train2017"
    #train_ann_file: "./dataset/coco/instance_coco_sample_train.json"
    train_ann_file: "./dataset/coco/instance_coco_sample_train_26971.json"
    #train_ann_file: "./dataset/coco/annotations/instances_train2017.json"
    val_img_prefix: "./dataset/coco/val2017"
    val_ann_file: "./dataset/coco/instances_val2017.json"
    label_list: "./dataset/coco/label_list.txt"
    anno_type: "coco"
    sample:
        type: "random_sample"
        sample_ratio: 1
        mode: "static"

resource_config:
    gpu: 0.3
    cpu: 1

algo_config:
    algo_name: "PBA"
    algo_param:
        perturbation_interval: 1
        num_samples: 32

search_space:
    operators_repeat: 2
    operator_space:
        - AutoContrast
        -
            name: Equalize
            prob:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
            magtitude:
                htype: choice
                value: [0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1]
        - Posterize
        - Solarize
        - Solarize_add
        - Color
        - Contrast
        - Brightness
        - Sharpness
        - Cutout
        - BBox_Cutout
        - Rotate_BBox
        - TranslateX_BBox
        - TranslateY_BBox
        - ShearX_Only_BBoxes
        - ShearY_Only_BBoxes
        - TranslateX_Only_BBoxes
        - TranslateY_Only_BBoxes
        - Flip_Only_BBoxes
        - Solarize_Only_BBoxes
        - Equalize_Only_BBoxes
        - Cutout_Only_BBoxes
        - ShearX_BBox
        - ShearY_BBox
        - Rotate_Only_BBoxes