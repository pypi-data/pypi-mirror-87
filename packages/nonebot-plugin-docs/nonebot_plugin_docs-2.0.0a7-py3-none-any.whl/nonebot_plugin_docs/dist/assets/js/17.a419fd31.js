(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{459:function(e,t,a){"use strict";a.r(t);var s=a(21),v=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"nonebot-config-模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nonebot-config-模块"}},[e._v("#")]),e._v(" NoneBot.config 模块")]),e._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[e._v("#")]),e._v(" 配置")]),e._v(" "),a("p",[e._v("NoneBot 使用 "),a("a",{attrs:{href:"https://pydantic-docs.helpmanual.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pydantic"),a("OutboundLink")],1),e._v(" 以及 "),a("a",{attrs:{href:"https://saurabh-kumar.com/python-dotenv/",target:"_blank",rel:"noopener noreferrer"}},[e._v("python-dotenv"),a("OutboundLink")],1),e._v(" 来读取配置。")]),e._v(" "),a("p",[e._v("配置项需符合特殊格式或 json 序列化格式。详情见 "),a("a",{attrs:{href:"https://pydantic-docs.helpmanual.io/usage/types/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pydantic Field Type"),a("OutboundLink")],1),e._v(" 文档。")]),e._v(" "),a("h2",{attrs:{id:"class-env"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-env"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Env")])]),e._v(" "),a("p",[e._v("基类："),a("code",[e._v("pydantic.env_settings.BaseSettings")])]),e._v(" "),a("p",[e._v("运行环境配置。大小写不敏感。")]),e._v(" "),a("p",[e._v("将会从 "),a("code",[e._v("nonebot.init 参数")]),e._v(" > "),a("code",[e._v("环境变量")]),e._v(" > "),a("code",[e._v(".env 环境配置文件")]),e._v(" 的优先级读取配置。")]),e._v(" "),a("h3",{attrs:{id:"environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#environment"}},[e._v("#")]),e._v(" "),a("code",[e._v("environment")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("str")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v('"prod"')])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n当前环境名。 NoneBot 将从 "),a("code",[e._v(".env.{environment}")]),e._v(" 文件中加载配置。")])])]),e._v(" "),a("h2",{attrs:{id:"class-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#class-config"}},[e._v("#")]),e._v(" "),a("em",[e._v("class")]),e._v(" "),a("code",[e._v("Config")])]),e._v(" "),a("p",[e._v("基类："),a("code",[e._v("nonebot.config.BaseConfig")])]),e._v(" "),a("p",[e._v("NoneBot 主要配置。大小写不敏感。")]),e._v(" "),a("p",[e._v("除了 NoneBot 的配置项外，还可以自行添加配置项到 "),a("code",[e._v(".env.{environment}")]),e._v(" 文件中。\n这些配置将会在 json 反序列化后一起带入 "),a("code",[e._v("Config")]),e._v(" 类中。")]),e._v(" "),a("h3",{attrs:{id:"driver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#driver"}},[e._v("#")]),e._v(" "),a("code",[e._v("driver")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("str")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v('"nonebot.drivers.fastapi"')])])]),e._v(" "),a("li",[a("p",[e._v("说明:\nNoneBot 运行所使用的 "),a("code",[e._v("Driver")]),e._v(" 。继承自 "),a("code",[e._v("nonebot.driver.BaseDriver")]),e._v(" 。")])])]),e._v(" "),a("h3",{attrs:{id:"host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[e._v("#")]),e._v(" "),a("code",[e._v("host")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("IPvAnyAddress")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("127.0.0.1")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\nNoneBot 的 HTTP 和 WebSocket 服务端监听的 IP/主机名。")])])]),e._v(" "),a("h3",{attrs:{id:"port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#port"}},[e._v("#")]),e._v(" "),a("code",[e._v("port")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("int")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("8080")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\nNoneBot 的 HTTP 和 WebSocket 服务端监听的端口。")])])]),e._v(" "),a("h3",{attrs:{id:"debug"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#debug"}},[e._v("#")]),e._v(" "),a("code",[e._v("debug")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("bool")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("False")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n是否以调试模式运行 NoneBot。")])])]),e._v(" "),a("h3",{attrs:{id:"api-root"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-root"}},[e._v("#")]),e._v(" "),a("code",[e._v("api_root")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Dict[str, str]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("{}")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n以机器人 ID 为键，上报地址为值的字典，环境变量或文件中应使用 json 序列化。")])]),e._v(" "),a("li",[a("p",[e._v("示例:")])])]),e._v(" "),a("div",{staticClass:"language-default line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('API_ROOT={"123456": "http://127.0.0.1:5700"}\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"api-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-timeout"}},[e._v("#")]),e._v(" "),a("code",[e._v("api_timeout")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[float]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("30.")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\nAPI 请求超时时间，单位: 秒。")])])]),e._v(" "),a("h3",{attrs:{id:"access-token"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#access-token"}},[e._v("#")]),e._v(" "),a("code",[e._v("access_token")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[str]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("None")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\nAPI 请求以及上报所需密钥，在请求头中携带。")])]),e._v(" "),a("li",[a("p",[e._v("示例:")])])]),e._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token property"}},[e._v("POST")]),e._v(" /cqhttp/ HTTP/1.1")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("Authorization:")]),e._v(" Bearer kSLuTF2GC2Q4q4ugm3\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h3",{attrs:{id:"secret"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#secret"}},[e._v("#")]),e._v(" "),a("code",[e._v("secret")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Optional[str]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("None")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\nHTTP POST 形式上报所需签名，在请求头中携带。")])]),e._v(" "),a("li",[a("p",[e._v("示例:")])])]),e._v(" "),a("div",{staticClass:"language-http line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token request-line"}},[a("span",{pre:!0,attrs:{class:"token property"}},[e._v("POST")]),e._v(" /cqhttp/ HTTP/1.1")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[e._v("X-Signature:")]),e._v(" sha1=f9ddd4863ace61e64f462d41ca311e3d2c1176e2\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h3",{attrs:{id:"superusers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#superusers"}},[e._v("#")]),e._v(" "),a("code",[e._v("superusers")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Set[int]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("set()")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n机器人超级用户。")])]),e._v(" "),a("li",[a("p",[e._v("示例:")])])]),e._v(" "),a("div",{staticClass:"language-default line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("SUPER_USERS=[12345789]\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"nickname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nickname"}},[e._v("#")]),e._v(" "),a("code",[e._v("nickname")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Set[str]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("set()")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n机器人昵称。")])])]),e._v(" "),a("h3",{attrs:{id:"command-start"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-start"}},[e._v("#")]),e._v(" "),a("code",[e._v("command_start")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Set[str]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v('{"/"}')])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n命令的起始标记，用于判断一条消息是不是命令。")])])]),e._v(" "),a("h3",{attrs:{id:"command-sep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#command-sep"}},[e._v("#")]),e._v(" "),a("code",[e._v("command_sep")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("Set[str]")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v('{"."}')])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n命令的分隔标记，用于将文本形式的命令切分为元组（实际的命令名）。")])])]),e._v(" "),a("h3",{attrs:{id:"session-expire-timeout"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#session-expire-timeout"}},[e._v("#")]),e._v(" "),a("code",[e._v("session_expire_timeout")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("timedelta")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v("timedelta(minutes=2)")])])]),e._v(" "),a("li",[a("p",[e._v("说明:\n等待用户回复的超时时间。")])]),e._v(" "),a("li",[a("p",[e._v("示例:")])])]),e._v(" "),a("div",{staticClass:"language-default line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("SESSION_EXPIRE_TIMEOUT=120  # 单位: 秒\nSESSION_EXPIRE_TIMEOUT=[DD ][HH:MM]SS[.ffffff]\nSESSION_EXPIRE_TIMEOUT=P[DD]DT[HH]H[MM]M[SS]S  # ISO 8601\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h3",{attrs:{id:"apscheduler-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apscheduler-config"}},[e._v("#")]),e._v(" "),a("code",[e._v("apscheduler_config")])]),e._v(" "),a("ul",[a("li",[a("p",[e._v("类型: "),a("code",[e._v("dict")])])]),e._v(" "),a("li",[a("p",[e._v("默认值: "),a("code",[e._v('{"apscheduler.timezone": "Asia/Shanghai"}')])])]),e._v(" "),a("li",[a("p",[e._v("说明:\nAPScheduler 的配置对象，见 "),a("a",{attrs:{href:"https://apscheduler.readthedocs.io/en/latest/userguide.html#configuring-the-scheduler",target:"_blank",rel:"noopener noreferrer"}},[e._v("Configuring the Scheduler"),a("OutboundLink")],1)])])])])}),[],!1,null,null,null);t.default=v.exports}}]);