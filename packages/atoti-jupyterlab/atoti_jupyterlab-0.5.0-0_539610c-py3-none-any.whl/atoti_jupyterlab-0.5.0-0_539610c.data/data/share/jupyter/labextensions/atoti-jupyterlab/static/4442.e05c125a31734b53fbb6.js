(self.webpackChunkatoti_jupyterlab=self.webpackChunkatoti_jupyterlab||[]).push([[4442],{94442:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(53521),i=a(39030),n=a(56271),o=a.n(n),l=a(58527),s=a.n(l),c=a(6335),u=a.n(c),d=a(77124),p=a.n(d),h=a(32596),f=a(76156),g=a.n(f),x=a(44652),v=a(13423);const y=e=>e.map((e=>(e.r&&e.r.length>0&&e.r.push(e.r[0]),e.theta&&e.theta.length>0&&e.theta.push(e.theta[0]),e)));function m({cube:e,data:t,metaData:a,widgetState:{colors:i,isTextVisible:n,mapping:o,opacity:l=1}}){if(!e||!t||!a)return[];const s={},c=a.orderedAxis,u=o.values.length>0,d=c.captions.length>0,p={},h={mapping:{},numberOfUsedAutomaticColors:0};(0,x.IG)(t,a.hierarchyIndicesInCellSet,(({cell:e,cellIndex:t,columnIndex:f,members:x,rowIndex:v})=>{const y=(0,r.gU)(x,a.levelIndicesPerField,o,a.attributesRedirection),m=(e=>{const t=e.splitBy,n=(0,r.Lj)([...t,...e.horizontalSubplots,...e.verticalSubplots]);if(!s[n]){const e=((e,t)=>{const n=o.values.length,s=(0,r.Ym)(t,n);return{_key:e,hoverinfo:"none",legendgroup:s,line:{color:(0,r.he)({accumulator:h,colorway:a.colorway,colors:i,traceName:s})},name:s,cellsIndices:g()(new Array(c.captions.length),null),axisIndices:g()(new Array(c.captions.length),null),type:"scatterpolar",fill:"toself",theta:d?c.captions:[""],r:d?g()(new Array(c.captions.length),null):[null],text:[],opacity:l}})(n,t);s[n]=e,p[n]=0}return s[n]})(y),b=y.axis,k=(0,r.bC)(b),w=d?c.members[k]:0;d&&(m.axisIndices[w]=p[m._key],p[m._key]++),u&&(m.r[w]=e.value),n&&(m.text[w]=e.formattedValue,m.mode="text+lines+markers",m.textposition="top center"),m.cellsIndices[w]=[{columnIndex:f,rowIndex:v,cellIndex:t}]}));const f=Object.values(s);f.forEach((e=>{var t;null===(t=e.axisIndices)||void 0===t||t.push(0)}));const v=(0,r.$)({traces:y(f),subplotsMetaData:a.subplots});return((e,t)=>{const a=t.vertical.keys.length;e.forEach((e=>{const r=t.horizontal.keys.findIndex((t=>e._key.includes(t))),i=t.vertical.keys.findIndex((t=>e._key.includes(t)))+1;let n=r+1;a>0&&(n=(r>-1?r:0)*a+i),e.subplot="polar"+n}))})(v,a.subplots),(0,r.Yw)(v),v}u().register(p());const b=(0,r.i)((0,r.H9)((0,n.memo)((e=>{const{cube:t,data:a,metaData:l,widgetState:c,onLoaded:u}=e,d=(0,n.useMemo)((()=>(0,i.TS)(null==c?void 0:c.mapping)),[null==c?void 0:c.mapping]);(0,r.ge)({isEmpty:d,onLoaded:u});const p=(0,n.useMemo)((()=>m({cube:t,data:a,metaData:l,widgetState:c})),[t,a,l,c]),f=(0,h.YZ)(),g=(0,n.useMemo)((()=>((e,t)=>{if(!e)return{};const a=e.subplots.horizontal.keys.length>0||e.subplots.vertical.keys.length>0;return(0,v.IM)({...a&&{grid:{ygap:.5,xgap:.5}},margin:{r:60},polar:{bgcolor:t.backgroundColor,radialaxis:{color:(0,h.Ut)(t.textColor,.25)}}},((e,t)=>{const a=e.vertical.keys.length,r=e.horizontal.keys.length,i=r>0,n=a>0,o=i&&n?r*a:r+a,l={};for(let e=1;e<=o;e++){const a=i?Math.ceil((e-r)/r):e-1,o=i?(e-1)%r:e;l["polar"+e]={bgcolor:t.backgroundColor,radialaxis:{color:(0,h.Ut)(t.textColor,.25)},domain:{row:n?a:0,column:i?o:0}}}return l})(e.subplots,t),(0,r.S5)(e.subplots))})(l,f)),[l,f]);return t&&a&&l&&!d?o().createElement(r.XN,s()({},e,{traces:p,layout:g,cube:t,data:a,metaData:l})):o().createElement(r.MQ,null)}))))},77124:(e,t,a)=>{"use strict";e.exports=a(90575)},24773:e=>{"use strict";e.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},36635:(e,t,a)=>{"use strict";var r=a(95754),i=a(88418).tester,n=r.findIndexOfMin,o=r.isAngleInsideSector,l=r.angleDelta,s=r.angleDist;function c(e,t,a,r){var i,n,o=r[0],l=r[1],s=d(Math.sin(t)-Math.sin(e)),c=d(Math.cos(t)-Math.cos(e)),u=Math.tan(a),p=d(1/u),h=s/c,f=l-h*o;return p?s&&c?n=u*(i=f/(u-h)):c?(i=l*p,n=l):(i=o,n=o*u):s&&c?(i=0,n=f):c?(i=0,n=l):i=n=NaN,[i,n]}function u(e,t,a,i){return r.isFullCircle([t,a])?function(e,t){var a,r=t.length,i=new Array(r+1);for(a=0;a<r;a++){var n=t[a];i[a]=[e*Math.cos(n),e*Math.sin(n)]}return i[a]=i[0].slice(),i}(e,i):function(e,t,a,i){var l,u,d=i.length,p=[];function h(t){return[e*Math.cos(t),e*Math.sin(t)]}function f(e,t,a){return c(e,t,a,h(e))}function g(e){return r.mod(e,d)}function x(e){return o(e,[t,a])}var v=n(i,(function(e){return x(e)?s(e,t):1/0})),y=f(i[v],i[g(v-1)],t);for(p.push(y),l=v,u=0;u<d;l++,u++){var m=i[g(l)];if(!x(m))break;p.push(h(m))}var b=n(i,(function(e){return x(e)?s(e,a):1/0})),k=f(i[b],i[g(b+1)],a);return p.push(k),p.push([0,0]),p.push(p[0].slice()),p}(e,t,a,i)}function d(e){return Math.abs(e)>1e-10?e:0}function p(e,t,a){t=t||0,a=a||0;for(var r=e.length,i=new Array(r),n=0;n<r;n++){var o=e[n];i[n]=[t+o[0],a-o[1]]}return i}e.exports={isPtInsidePolygon:function(e,t,a,r,n){if(!o(t,r))return!1;var l,s;a[0]<a[1]?(l=a[0],s=a[1]):(l=a[1],s=a[0]);var c=i(u(l,r[0],r[1],n)),d=i(u(s,r[0],r[1],n)),p=[e*Math.cos(t),e*Math.sin(t)];return d.contains(p)&&!c.contains(p)},findPolygonOffset:function(e,t,a,r){for(var i=1/0,n=1/0,o=u(e,t,a,r),l=0;l<o.length;l++){var s=o[l];i=Math.min(i,s[0]),n=Math.min(n,-s[1])}return[i,n]},findEnclosingVertexAngles:function(e,t){var a=n(t,(function(t){var a=l(t,e);return a>0?a:1/0})),i=r.mod(a+1,t.length);return[t[a],t[i]]},findIntersectionXY:c,findXYatLength:function(e,t,a,r){var i=-t*a,n=t*t+1,o=2*(t*i-a),l=i*i+a*a-e*e,s=Math.sqrt(o*o-4*n*l),c=(-o+s)/(2*n),u=(-o-s)/(2*n);return[[c,t*c+i+r],[u,t*u+i+r]]},clampTiny:d,pathPolygon:function(e,t,a,r,i,n){return"M"+p(u(e,t,a,r),i,n).join("L")},pathPolygonAnnulus:function(e,t,a,r,i,n,o){var l,s;e<t?(l=e,s=t):(l=t,s=e);var c=p(u(l,a,r,i),n,o);return"M"+p(u(s,a,r,i),n,o).reverse().join("L")+"M"+c.join("L")}}},67933:(e,t,a)=>{"use strict";var r=a(45414).AU,i=a(95754).counterRegex,n=a(50596),o=a(24773),l=o.attr,s=o.name,c=i(s),u={};u[l]={valType:"subplotid",role:"info",dflt:s,editType:"calc",description:["Sets a reference between this trace's data coordinates and","a polar subplot.","If *polar* (the default value), the data refer to `layout.polar`.","If *polar2*, the data refer to `layout.polar2`, and so on."].join(" ")},e.exports={attr:l,name:s,idRoot:s,idRegex:c,attrRegex:c,attributes:u,layoutAttributes:a(46691),supplyLayoutDefaults:a(18078),plot:function(e){for(var t=e._fullLayout,a=e.calcdata,i=t._subplots[s],o=0;o<i.length;o++){var l=i[o],c=r(a,s,l),u=t[l]._subplot;u||(u=n(e,l),t[l]._subplot=u),u.plot(c,t,e._promises)}},clean:function(e,t,a,r){for(var i=r._subplots[s]||[],n=r._has&&r._has("gl"),o=t._has&&t._has("gl"),l=n&&!o,c=0;c<i.length;c++){var u=i[c],d=r[u]._subplot;if(!t[u]&&d)for(var p in d.framework.remove(),d.layers["radial-axis-title"].remove(),d.clipPaths)d.clipPaths[p].remove();l&&d._scene&&(d._scene.destroy(),d._scene=null)}},toSVG:a(51594).toSVG}},46691:(e,t,a)=>{"use strict";var r=a(73925),i=a(3116),n=a(5227).Y,o=a(95754).extendFlat,l=a(23233).overrideAll,s=l({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth},"plot","from-root"),c=l({tickmode:i.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,layer:i.layer},"plot","from-root"),u={visible:o({},i.visible,{dflt:!0}),type:o({},i.type,{values:["-","linear","log","date","category"]}),autorange:o({},i.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",role:"style",editType:"calc",description:["If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","If *normal*, the range is computed in relation to the extrema","of the input data (same behavior as for cartesian axes)."].join(" ")},range:o({},i.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:i.categoryorder,categoryarray:i.categoryarray,angle:{valType:"angle",editType:"plot",role:"info",description:["Sets the angle (in degrees) from which the radial axis is drawn.","Note that by default, radial axis line on the theta=0 line","corresponds to a line pointing right (like what mathematicians prefer).","Defaults to the first `polar.sector` angle."].join(" ")},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot",role:"info",description:["Determines on which side of radial axis line","the tick and tick labels appear."].join(" ")},title:{text:o({},i.title.text,{editType:"plot",dflt:""}),font:o({},i.title.font,{editType:"plot"}),editType:"plot"},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, `angle`, and `title` if in `editable: true` configuration.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc",_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}};o(u,s,c);var d={visible:o({},i.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",role:"info",editType:"calc",_noTemplating:!0,description:["Sets the angular axis type.","If *linear*, set `thetaunit` to determine the unit in which axis value are shown.","If *category, use `period` to set the number of integer coordinates around polar axis."].join(" ")},categoryorder:i.categoryorder,categoryarray:i.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",role:"info",editType:"calc",description:["Sets the format unit of the formatted *theta* values.","Has an effect only when `angularaxis.type` is *linear*."].join(" ")},period:{valType:"number",editType:"calc",min:0,role:"info",description:["Set the angular period.","Has an effect only when `angularaxis.type` is *category*."].join(" ")},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",role:"info",editType:"calc",description:["Sets the direction corresponding to positive angles."].join(" ")},rotation:{valType:"angle",editType:"calc",role:"info",description:["Sets that start position (in degrees) of the angular axis","By default, polar subplots with `direction` set to *counterclockwise*","get a `rotation` of *0*","which corresponds to due East (like what mathematicians prefer).","In turn, polar with `direction` set to *clockwise* get a rotation of *90*","which corresponds to due North (like on a compass),"].join(" ")},hoverformat:i.hoverformat,uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `rotation`.","Defaults to `polar<N>.uirevision`."].join(" ")},editType:"calc"};o(d,s,c),e.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],role:"info",editType:"plot",description:["Sets angular span of this polar subplot with two angles (in degrees).","Sector are assumed to be spanned in the counterclockwise direction","with *0* corresponding to rightmost limit of the polar subplot."].join(" ")},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot",role:"info",description:["Sets the fraction of the radius to cut out of the polar subplot."].join(" ")},bgcolor:{valType:"color",role:"style",editType:"plot",dflt:r.background,description:"Set the background color of the subplot"},radialaxis:u,angularaxis:d,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",role:"style",editType:"plot",description:["Determines if the radial axis grid lines and angular axis line are drawn","as *circular* sectors or as *linear* (polygon) sectors.","Has an effect only when the angular axis has `type` *category*.","Note that `radialaxis.angle` is snapped to the angle of the closest","vertex when `gridshape` is *circular*","(so that radial axis scale is the same as the data scale)."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis attributes,","if not overridden in the individual axes.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc"}},18078:(e,t,a)=>{"use strict";var r=a(95754),i=a(92665),n=a(61608),o=a(87320),l=a(45414).NG,s=a(43042),c=a(35117),u=a(88257),d=a(42581),p=a(70212),h=a(30980),f=a(46691),g=a(50659),x=a(24773),v=x.axisNames;function y(e,t,a,o){var h=a("bgcolor");o.bgColor=i.combine(h,o.paper_bgcolor);var y=a("sector");a("hole");var b,k=l(o.fullData,x.name,o.id),w=o.layoutOut;function T(e,t){return a(b+"."+e,t)}for(var _=0;_<v.length;_++){b=v[_],r.isPlainObject(e[b])||(e[b]={});var A=e[b],M=n.newContainer(t,b);M._id=M._name=b,M._attr=o.id+"."+b,M._traceIndices=k.map((function(e){return e._expandedIndex}));var I=x.axisName2dataArray[b],S=m(A,M,T,k,I);d(A,M,T,{axData:k,dataAttr:I});var L,R,D=T("visible");switch(g(M,t,w),T("uirevision",t.uirevision),D&&(R=(L=T("color"))===A.color?L:o.font.color),M._m=1,b){case"radialaxis":var F=T("autorange",!M.isValidRange(A.range));A.autorange=F,!F||"linear"!==S&&"-"!==S||T("rangemode"),"reversed"===F&&(M._m=-1),T("range"),M.cleanRange("range",{dfltRange:[0,1]}),D&&(T("side"),T("angle",y[0]),T("title.text"),r.coerceFont(T,"title.font",{family:o.font.family,size:Math.round(1.2*o.font.size),color:R}));break;case"angularaxis":if("date"===S){r.log("Polar plots do not support date angular axes yet.");for(var C=0;C<k.length;C++)k[C].visible=!1;S=A.type=M.type="linear"}T("linear"===S?"thetaunit":"period");var P=T("direction");T("rotation",{counterclockwise:0,clockwise:90}[P])}D&&(s(A,M,T,M.type),u(A,M,T,M.type,{tickSuffixDflt:"degrees"===M.thetaunit?"°":void 0}),c(A,M,T,{outerTicks:!0}),T("showticklabels")&&(r.coerceFont(T,"tickfont",{family:o.font.family,size:o.font.size,color:R}),T("tickangle"),T("tickformat")),p(A,M,T,{dfltColor:L,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[b]}),T("layer")),"category"!==S&&T("hoverformat"),M._input=A}"category"===t.angularaxis.type&&a("gridshape")}function m(e,t,a,r,i){if("-"===a("type")){for(var n,o=0;o<r.length;o++)if(r[o].visible){n=r[o];break}n&&n[i]&&(t.type=h(n[i],"gregorian")),"-"===t.type?t.type="linear":e.type=t.type}return t.type}e.exports=function(e,t,a){o(e,t,a,{type:x.name,attributes:f,handleDefaults:y,font:t.font,paper_bgcolor:t.paper_bgcolor,fullData:a,layoutOut:t})}},50596:(e,t,a)=>{"use strict";var r=a(42895),i=a(98621),n=a(97966),o=a(95754),l=a(92665),s=a(14124),c=a(49701),u=a(39393),d=a(1863),p=a(50659),h=a(21399).doAutoRange,f=a(93399),g=a(49922),x=a(58253),v=a(95659),y=a(14715).prepSelect,m=a(14715).selectOnClick,b=a(14715).clearSelect,k=a(59329),w=a(70929),T=a(56139).redrawReglTraces,_=a(64440).MID_SHIFT,A=a(24773),M=a(36635),I=o._,S=o.mod,L=o.deg2rad,R=o.rad2deg;function D(e,t){this.id=t,this.gd=e,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var a=e._fullLayout,r="clip"+a._uid+t;this.clipIds.forTraces=r+"-for-traces",this.clipPaths.forTraces=a._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=a._polarlayer.append("g").attr("class",t),this.radialTickLayout=null,this.angularTickLayout=null}var F=D.prototype;function C(e){var t=e.ticks+String(e.ticklen)+String(e.showticklabels);return"side"in e&&(t+=e.side),t}function P(e,t){return t[o.findIndexOfMin(t,(function(t){return o.angleDist(e,t)}))]}function O(e,t,a){return t?(e.attr("display",null),e.attr(a)):e&&e.attr("display","none"),e}function j(e,t){return"translate("+e+","+t+")"}function N(e){return"rotate("+e+")"}e.exports=function(e,t){return new D(e,t)},F.plot=function(e,t){var a=this,r=t[a.id];a._hasClipOnAxisFalse=!1;for(var i=0;i<e.length;i++)if(!1===e[i][0].trace.cliponaxis){a._hasClipOnAxisFalse=!0;break}a.updateLayers(t,r),a.updateLayout(t,r),c.generalUpdatePerTraceModule(a.gd,a,e,r),a.updateFx(t,r)},F.updateLayers=function(e,t){var a=this.layers,i=t.radialaxis,n=t.angularaxis,o=A.layerNames,l=o.indexOf("frontplot"),s=o.slice(0,l),c="below traces"===n.layer,u="below traces"===i.layer;c&&s.push("angular-line"),u&&s.push("radial-line"),c&&s.push("angular-axis"),u&&s.push("radial-axis"),s.push("frontplot"),c||s.push("angular-line"),u||s.push("radial-line"),c||s.push("angular-axis"),u||s.push("radial-axis");var d=this.framework.selectAll(".polarsublayer").data(s,String);d.enter().append("g").attr("class",(function(e){return"polarsublayer "+e})).each((function(e){var t=a[e]=r.select(this);switch(e){case"frontplot":t.append("g").classed("barlayer",!0),t.append("g").classed("scatterlayer",!0);break;case"backplot":t.append("g").classed("maplayer",!0);break;case"plotbg":a.bg=t.append("path");break;case"radial-grid":case"angular-grid":t.style("fill","none");break;case"radial-line":t.append("line").style("fill","none");break;case"angular-line":t.append("path").style("fill","none")}})),d.order()},F.updateLayout=function(e,t){var a=this,r=a.layers,i=e._size,n=t.radialaxis,o=t.angularaxis,c=t.domain.x,u=t.domain.y;a.xOffset=i.l+i.w*c[0],a.yOffset=i.t+i.h*(1-u[1]);var d=a.xLength=i.w*(c[1]-c[0]),p=a.yLength=i.h*(u[1]-u[0]),h=t.sector;a.sectorInRad=h.map(L);var f,g,x,v,y,m=a.sectorBBox=function(e){var t,a=e[0],r=e[1]-a,i=S(a,360),n=i+r,o=Math.cos(L(i)),l=Math.sin(L(i)),s=Math.cos(L(n)),c=Math.sin(L(n));return t=i<=90&&n>=90||i>90&&n>=450?1:l<=0&&c<=0?0:Math.max(l,c),[i<=180&&n>=180||i>180&&n>=540?-1:o>=0&&s>=0?0:Math.min(o,s),i<=270&&n>=270||i>270&&n>=630?-1:l>=0&&c>=0?0:Math.min(l,c),n>=360?1:o<=0&&s<=0?0:Math.max(o,s),t]}(h),b=m[2]-m[0],k=m[3]-m[1],w=p/d,T=Math.abs(k/b);w>T?(f=d,y=(p-(g=d*T))/i.h/2,x=[c[0],c[1]],v=[u[0]+y,u[1]-y]):(g=p,y=(d-(f=p/T))/i.w/2,x=[c[0]+y,c[1]-y],v=[u[0],u[1]]),a.xLength2=f,a.yLength2=g,a.xDomain2=x,a.yDomain2=v;var _=a.xOffset2=i.l+i.w*x[0],A=a.yOffset2=i.t+i.h*(1-v[1]),M=a.radius=f/b,I=a.innerRadius=t.hole*M,R=a.cx=_-M*m[0],D=a.cy=A+M*m[3],F=a.cxx=R-_,C=a.cyy=D-A;a.radialAxis=a.mockAxis(e,t,n,{_id:"x",side:{counterclockwise:"top",clockwise:"bottom"}[n.side],domain:[I/i.w,M/i.w]}),a.angularAxis=a.mockAxis(e,t,o,{side:"right",domain:[0,Math.PI],autorange:!1}),a.doAutoRange(e,t),a.updateAngularAxis(e,t),a.updateRadialAxis(e,t),a.updateRadialAxisTitle(e,t),a.xaxis=a.mockCartesianAxis(e,t,{_id:"x",domain:x}),a.yaxis=a.mockCartesianAxis(e,t,{_id:"y",domain:v});var P=a.pathSubplot();a.clipPaths.forTraces.select("path").attr("d",P).attr("transform",j(F,C)),r.frontplot.attr("transform",j(_,A)).call(s.setClipUrl,a._hasClipOnAxisFalse?null:a.clipIds.forTraces,a.gd),r.bg.attr("d",P).attr("transform",j(R,D)).call(l.fill,t.bgcolor)},F.mockAxis=function(e,t,a,r){var i=o.extendFlat({},a,r);return p(i,t,e),i},F.mockCartesianAxis=function(e,t,a){var r=this,i=a._id,n=o.extendFlat({type:"linear"},a);d(n,e);var l={x:[0,2],y:[1,3]};return n.setRange=function(){var e=r.sectorBBox,a=l[i],o=r.radialAxis._rl,s=(o[1]-o[0])/(1-t.hole);n.range=[e[a[0]]*s,e[a[1]]*s]},n.isPtWithinRange="x"===i?function(e){return r.isPtInside(e)}:function(){return!0},n.setRange(),n.setScale(),n},F.doAutoRange=function(e,t){var a=this.gd,r=this.radialAxis,i=t.radialaxis;r.setScale(),h(a,r);var n=r.range;i.range=n.slice(),i._input.range=n.slice(),r._rl=[r.r2l(n[0],null,"gregorian"),r.r2l(n[1],null,"gregorian")]},F.updateRadialAxis=function(e,t){var a=this,r=a.gd,i=a.layers,n=a.radius,s=a.innerRadius,c=a.cx,d=a.cy,p=t.radialaxis,h=S(t.sector[0],360),f=a.radialAxis,g=s<n;a.fillViewInitialKey("radialaxis.angle",p.angle),a.fillViewInitialKey("radialaxis.range",f.range.slice()),f.setGeometry(),"auto"===f.tickangle&&h>90&&h<=270&&(f.tickangle=180);var x=function(e){return"translate("+(f.l2p(e.x)+s)+",0)"},v=C(p);if(a.radialTickLayout!==v&&(i["radial-axis"].selectAll(".xtick").remove(),a.radialTickLayout=v),g){f.setScale();var y=u.calcTicks(f),m=u.clipEnds(f,y),b=u.getTickSigns(f)[2];u.drawTicks(r,f,{vals:y,layer:i["radial-axis"],path:u.makeTickPath(f,0,b),transFn:x,crisp:!1}),u.drawGrid(r,f,{vals:m,layer:i["radial-grid"],path:function(e){return a.pathArc(f.r2p(e.x)+s)},transFn:o.noop,crisp:!1}),u.drawLabels(r,f,{vals:y,layer:i["radial-axis"],transFn:x,labelFns:u.makeLabelFns(f,0)})}var k=a.radialAxisAngle=a.vangles?R(P(L(p.angle),a.vangles)):p.angle,w=j(c,d),T=w+N(-k);O(i["radial-axis"],g&&(p.showticklabels||p.ticks),{transform:T}),O(i["radial-grid"],g&&p.showgrid,{transform:w}),O(i["radial-line"].select("line"),g&&p.showline,{x1:s,y1:0,x2:n,y2:0,transform:T}).attr("stroke-width",p.linewidth).call(l.stroke,p.linecolor)},F.updateRadialAxisTitle=function(e,t,a){var r=this,i=r.gd,n=r.radius,o=r.cx,l=r.cy,c=t.radialaxis,u=r.id+"title",d=void 0!==a?a:r.radialAxisAngle,p=L(d),h=Math.cos(p),f=Math.sin(p),g=0;if(c.title){var x=s.bBox(r.layers["radial-axis"].node()).height,y=c.title.font.size;g="counterclockwise"===c.side?-x-.4*y:x+.8*y}r.layers["radial-axis-title"]=v.draw(i,u,{propContainer:c,propName:r.id+".radialaxis.title",placeholder:I(i,"Click to enter radial axis title"),attributes:{x:o+n/2*h+g*f,y:l-n/2*f+g*h,"text-anchor":"middle"},transform:{rotate:-d}})},F.updateAngularAxis=function(e,t){var a=this,r=a.gd,i=a.layers,n=a.radius,s=a.innerRadius,c=a.cx,d=a.cy,p=t.angularaxis,h=a.angularAxis;a.fillViewInitialKey("angularaxis.rotation",p.rotation),h.setGeometry(),h.setScale();var f=function(e){return h.t2g(e.x)};"linear"===h.type&&"radians"===h.thetaunit&&(h.tick0=R(h.tick0),h.dtick=R(h.dtick));var g=function(e){return j(c+n*Math.cos(e),d-n*Math.sin(e))},x=u.makeLabelFns(h,0).labelStandoff,v={xFn:function(e){var t=f(e);return Math.cos(t)*x},yFn:function(e){var t=f(e),a=Math.sin(t)>0?.2:1;return-Math.sin(t)*(x+e.fontSize*a)+Math.abs(Math.cos(t))*(e.fontSize*_)},anchorFn:function(e){var t=f(e),a=Math.cos(t);return Math.abs(a)<.1?"middle":a>0?"start":"end"},heightFn:function(e,t,a){var r=f(e);return-.5*(1+Math.sin(r))*a}},y=C(p);a.angularTickLayout!==y&&(i["angular-axis"].selectAll("."+h._id+"tick").remove(),a.angularTickLayout=y);var m,b=u.calcTicks(h);if("linear"===t.gridshape?(m=b.map(f),o.angleDelta(m[0],m[1])<0&&(m=m.slice().reverse())):m=null,a.vangles=m,"category"===h.type&&(b=b.filter((function(e){return o.isAngleInsideSector(f(e),a.sectorInRad)}))),h.visible){var k="inside"===h.ticks?-1:1,w=(h.linewidth||1)/2;u.drawTicks(r,h,{vals:b,layer:i["angular-axis"],path:"M"+k*w+",0h"+k*h.ticklen,transFn:function(e){var t=f(e);return g(t)+N(-R(t))},crisp:!1}),u.drawGrid(r,h,{vals:b,layer:i["angular-grid"],path:function(e){var t=f(e),a=Math.cos(t),r=Math.sin(t);return"M"+[c+s*a,d-s*r]+"L"+[c+n*a,d-n*r]},transFn:o.noop,crisp:!1}),u.drawLabels(r,h,{vals:b,layer:i["angular-axis"],repositionOnUpdate:!0,transFn:function(e){return g(f(e))},labelFns:v})}O(i["angular-line"].select("path"),p.showline,{d:a.pathSubplot(),transform:j(c,d)}).attr("stroke-width",p.linewidth).call(l.stroke,p.linecolor)},F.updateFx=function(e,t){this.gd._context.staticPlot||(this.updateAngularDrag(e),this.updateRadialDrag(e,t,0),this.updateRadialDrag(e,t,1),this.updateMainDrag(e))},F.updateMainDrag=function(e){var t=this,a=t.gd,o=t.layers,l=e._zoomlayer,s=A.MINZOOM,c=A.OFFEDGE,u=t.radius,d=t.innerRadius,p=t.cx,h=t.cy,v=t.cxx,k=t.cyy,w=t.sectorInRad,T=t.vangles,_=t.radialAxis,I=M.clampTiny,S=M.findXYatLength,L=M.findEnclosingVertexAngles,R=A.cornerHalfWidth,D=A.cornerLen/2,F=f.makeDragger(o,"path","maindrag","crosshair");r.select(F).attr("d",t.pathSubplot()).attr("transform",j(p,h));var C,P,O,N,z,B,E,G,H,V={element:F,gd:a,subplot:t.id,plotinfo:{id:t.id,xaxis:t.xaxis,yaxis:t.yaxis},xaxes:[t.xaxis],yaxes:[t.yaxis]};function U(e,t){return Math.sqrt(e*e+t*t)}function Z(e,t){return U(e-v,t-k)}function Y(e,t){return Math.atan2(k-t,e-v)}function q(e,t){return[e*Math.cos(t),e*Math.sin(-t)]}function X(e,a){if(0===e)return t.pathSector(2*R);var r=D/e,i=a-r,n=a+r,o=Math.max(0,Math.min(e,u)),l=o-R,s=o+R;return"M"+q(l,i)+"A"+[l,l]+" 0,0,0 "+q(l,n)+"L"+q(s,n)+"A"+[s,s]+" 0,0,1 "+q(s,i)+"Z"}function K(e,a,r){if(0===e)return t.pathSector(2*R);var i,n,o=q(e,a),l=q(e,r),s=I((o[0]+l[0])/2),c=I((o[1]+l[1])/2);if(s&&c){var u=c/s,d=-1/u,p=S(R,u,s,c);i=S(D,d,p[0][0],p[0][1]),n=S(D,d,p[1][0],p[1][1])}else{var h,f;c?(h=D,f=R):(h=R,f=D),i=[[s-h,c-f],[s+h,c-f]],n=[[s-h,c+f],[s+h,c+f]]}return"M"+i.join("L")+"L"+n.reverse().join("L")+"Z"}function W(e,t){return t=Math.max(Math.min(t,u),d),e<c?e=0:u-e<c?e=u:t<c?t=0:u-t<c&&(t=u),Math.abs(t-e)>s?(e<t?(O=e,N=t):(O=t,N=e),!0):(O=null,N=null,!1)}function $(e,t){e=e||z,t=t||"M0,0Z",G.attr("d",e),H.attr("d",t),f.transitionZoombox(G,H,B,E),B=!0;var r={};ae(r),a.emit("plotly_relayouting",r)}function Q(e,a){var r,i,n=C+e,o=P+a,l=Z(C,P),s=Math.min(Z(n,o),u),c=Y(C,P);W(l,s)&&(r=z+t.pathSector(N),O&&(r+=t.pathSector(O)),i=X(O,c)+X(N,c)),$(r,i)}function J(e,t,a,r){var i=M.findIntersectionXY(a,r,a,[e-v,k-t]);return U(i[0],i[1])}function ee(e,a){var r,i,n=C+e,o=P+a,l=Y(C,P),s=Y(n,o),c=L(l,T),d=L(s,T);W(J(C,P,c[0],c[1]),Math.min(J(n,o,d[0],d[1]),u))&&(r=z+t.pathSector(N),O&&(r+=t.pathSector(O)),i=[K(O,c[0],c[1]),K(N,c[0],c[1])].join(" ")),$(r,i)}function te(){if(f.removeZoombox(a),null!==O&&null!==N){var e={};ae(e),f.showDoubleClickNotifier(a),n.call("_guiRelayout",a,e)}}function ae(e){var a=_._rl,r=(a[1]-a[0])/(1-d/u)/u,i=[a[0]+(O-d)*r,a[0]+(N-d)*r];e[t.id+".radialaxis.range"]=i}function re(e,r){var i=a._fullLayout.clickmode;if(f.removeZoombox(a),2===e){var o={};for(var l in t.viewInitial)o[t.id+"."+l]=t.viewInitial[l];a.emit("plotly_doubleclick",null),n.call("_guiRelayout",a,o)}i.indexOf("select")>-1&&1===e&&m(r,a,[t.xaxis],[t.yaxis],t.id,V),i.indexOf("event")>-1&&x.click(a,r,t.id)}V.prepFn=function(e,r,n){var o=a._fullLayout.dragmode,s=F.getBoundingClientRect();if(C=r-s.left,P=n-s.top,T){var c=M.findPolygonOffset(u,w[0],w[1],T);C+=v+c[0],P+=k+c[1]}switch(o){case"zoom":V.moveFn=T?ee:Q,V.clickFn=re,V.doneFn=te,function(){O=null,N=null,z=t.pathSubplot(),B=!1;var e=a._fullLayout[t.id];E=i(e.bgcolor).getLuminance(),(G=f.makeZoombox(l,E,p,h,z)).attr("fill-rule","evenodd"),H=f.makeCorners(l,p,h),b(a)}();break;case"select":case"lasso":y(e,r,n,V,o)}},F.onmousemove=function(e){x.hover(a,e,t.id),a._fullLayout._lasthover=F,a._fullLayout._hoversubplot=t.id},F.onmouseout=function(e){a._dragging||g.unhover(a,e)},g.init(V)},F.updateRadialDrag=function(e,t,a){var i=this,l=i.gd,s=i.layers,c=i.radius,u=i.innerRadius,d=i.cx,p=i.cy,h=i.radialAxis,x=A.radialDragBoxSize,v=x/2;if(h.visible){var y,m,k,_=L(i.radialAxisAngle),M=h._rl,I=M[0],S=M[1],D=M[a],F=.75*(M[1]-M[0])/(1-t.hole)/c;a?(y=d+(c+v)*Math.cos(_),m=p-(c+v)*Math.sin(_),k="radialdrag"):(y=d+(u-v)*Math.cos(_),m=p-(u-v)*Math.sin(_),k="radialdrag-inner");var C,z,B,E=f.makeRectDragger(s,k,"crosshair",-v,-v,x,x),G={element:E,gd:l};O(r.select(E),h.visible&&u<c,{transform:j(y,m)}),G.prepFn=function(){C=null,z=null,B=null,G.moveFn=H,G.doneFn=V,b(l)},G.clampFn=function(e,t){return Math.sqrt(e*e+t*t)<A.MINDRAG&&(e=0,t=0),[e,t]},g.init(G)}function H(e,t){if(C)C(e,t);else{var r=[e,-t],n=[Math.cos(_),Math.sin(_)],s=Math.abs(o.dot(r,n)/Math.sqrt(o.dot(r,r)));isNaN(s)||(C=s<.5?U:Z)}var c={};!function(e){null!==z?e[i.id+".radialaxis.angle"]=z:null!==B&&(e[i.id+".radialaxis.range["+a+"]"]=B)}(c),l.emit("plotly_relayouting",c)}function V(){null!==z?n.call("_guiRelayout",l,i.id+".radialaxis.angle",z):null!==B&&n.call("_guiRelayout",l,i.id+".radialaxis.range["+a+"]",B)}function U(e,t){if(0!==a){var r=y+e,n=m+t;z=Math.atan2(p-n,r-d),i.vangles&&(z=P(z,i.vangles)),z=R(z);var o=j(d,p)+N(-z);s["radial-axis"].attr("transform",o),s["radial-line"].select("line").attr("transform",o);var l=i.gd._fullLayout,c=l[i.id];i.updateRadialAxisTitle(l,c,z)}}function Z(e,t){var r=o.dot([e,-t],[Math.cos(_),Math.sin(_)]);if(B=D-F*r,F>0==(a?B>I:B<S)){var s=l._fullLayout,c=s[i.id];h.range[a]=B,h._rl[a]=B,i.updateRadialAxis(s,c),i.xaxis.setRange(),i.xaxis.setScale(),i.yaxis.setRange(),i.yaxis.setScale();var u=!1;for(var d in i.traceHash){var p=i.traceHash[d],f=o.filterVisible(p);p[0][0].trace._module.plot(l,i,f,c),n.traceIs(d,"gl")&&f.length&&(u=!0)}u&&(w(l),T(l))}else B=null}},F.updateAngularDrag=function(e){var t=this,a=t.gd,i=t.layers,l=t.radius,c=t.angularAxis,u=t.cx,d=t.cy,p=t.cxx,h=t.cyy,x=A.angularDragBoxSize,v=f.makeDragger(i,"path","angulardrag","move"),y={element:v,gd:a};function m(e,t){return Math.atan2(h+x-t,e-p-x)}r.select(v).attr("d",t.pathAnnulus(l,l+x)).attr("transform",j(u,d)).call(k,"move");var _,M,I,S,L,D,F=i.frontplot.select(".scatterlayer").selectAll(".trace"),C=F.selectAll(".point"),P=F.selectAll(".textpoint");function O(e,l){var f=t.gd._fullLayout,g=f[t.id],x=m(_+e,M+l),v=R(x-D);if(S=I+v,i.frontplot.attr("transform",j(t.xOffset2,t.yOffset2)+N([-v,p,h])),t.vangles){L=t.radialAxisAngle+v;var y=j(u,d)+N(-v),b=j(u,d)+N(-L);i.bg.attr("transform",y),i["radial-grid"].attr("transform",y),i["radial-axis"].attr("transform",b),i["radial-line"].select("line").attr("transform",b),t.updateRadialAxisTitle(f,g,L)}else t.clipPaths.forTraces.select("path").attr("transform",j(p,h)+N(v));C.each((function(){var e=r.select(this),t=s.getTranslate(e);e.attr("transform",j(t.x,t.y)+N([v]))})),P.each((function(){var e=r.select(this),t=e.select("text"),a=s.getTranslate(e);e.attr("transform",N([v,t.attr("x"),t.attr("y")])+j(a.x,a.y))})),c.rotation=o.modHalf(S,360),t.updateAngularAxis(f,g),t._hasClipOnAxisFalse&&!o.isFullCircle(t.sectorInRad)&&F.call(s.hideOutsideRangePoints,t);var k=!1;for(var A in t.traceHash)if(n.traceIs(A,"gl")){var O=t.traceHash[A],B=o.filterVisible(O);O[0][0].trace._module.plot(a,t,B,g),B.length&&(k=!0)}k&&(w(a),T(a));var E={};z(E),a.emit("plotly_relayouting",E)}function z(e){e[t.id+".angularaxis.rotation"]=S,t.vangles&&(e[t.id+".radialaxis.angle"]=L)}function B(){P.select("text").attr("transform",null);var e={};z(e),n.call("_guiRelayout",a,e)}y.prepFn=function(r,i,n){var o=e[t.id];I=o.angularaxis.rotation;var l=v.getBoundingClientRect();_=i-l.left,M=n-l.top,D=m(_,M),y.moveFn=O,y.doneFn=B,b(a)},t.vangles&&!o.isFullCircle(t.sectorInRad)&&(y.prepFn=o.noop,k(r.select(v),null)),g.init(y)},F.isPtInside=function(e){var t=this.sectorInRad,a=this.vangles,r=this.angularAxis.c2g(e.theta),i=this.radialAxis,n=i.c2l(e.r),l=i._rl;return(a?M.isPtInsidePolygon:o.isPtInsideSector)(n,r,l,t,a)},F.pathArc=function(e){var t=this.sectorInRad,a=this.vangles;return(a?M.pathPolygon:o.pathArc)(e,t[0],t[1],a)},F.pathSector=function(e){var t=this.sectorInRad,a=this.vangles;return(a?M.pathPolygon:o.pathSector)(e,t[0],t[1],a)},F.pathAnnulus=function(e,t){var a=this.sectorInRad,r=this.vangles;return(r?M.pathPolygonAnnulus:o.pathAnnulus)(e,t,a[0],a[1],r)},F.pathSubplot=function(){var e=this.innerRadius,t=this.radius;return e?this.pathAnnulus(e,t):this.pathSector(t)},F.fillViewInitialKey=function(e,t){e in this.viewInitial||(this.viewInitial[e]=t)}},50659:(e,t,a)=>{"use strict";var r=a(95754),i=a(1863),n=r.deg2rad,o=r.rad2deg;e.exports=function(e,t,a){switch(i(e,a),e._id){case"x":case"radialaxis":!function(e,t){var a=t._subplot;e.setGeometry=function(){var t=e._rl[0],r=e._rl[1],i=a.innerRadius,n=(a.radius-i)/(r-t),o=i/n,l=t>r?function(e){return e<=0}:function(e){return e>=0};e.c2g=function(a){var r=e.c2l(a)-t;return(l(r)?r:0)+o},e.g2c=function(a){return e.l2c(a+t-o)},e.g2p=function(e){return e*n},e.c2p=function(t){return e.g2p(e.c2g(t))}}}(e,t);break;case"angularaxis":!function(e,t){var a=e.type;if("linear"===a){var i=e.d2c,l=e.c2d;e.d2c=function(e,t){return function(e,t){return"degrees"===t?n(e):e}(i(e),t)},e.c2d=function(e,t){return l(function(e,t){return"degrees"===t?o(e):e}(e,t))}}e.makeCalcdata=function(t,i){var n,o,l=t[i],s=t._length,c=function(a){return e.d2c(a,t.thetaunit)};if(l){if(r.isTypedArray(l)&&"linear"===a){if(s===l.length)return l;if(l.subarray)return l.subarray(0,s)}for(n=new Array(s),o=0;o<s;o++)n[o]=c(l[o])}else{var u=i+"0",d="d"+i,p=u in t?c(t[u]):0,h=t[d]?c(t[d]):(e.period||2*Math.PI)/s;for(n=new Array(s),o=0;o<s;o++)n[o]=p+o*h}return n},e.setGeometry=function(){var i,l,s,c,u=t.sector,d=u.map(n),p={clockwise:-1,counterclockwise:1}[e.direction],h=n(e.rotation),f=function(e){return p*e+h},g=function(e){return(e-h)/p};switch(a){case"linear":l=i=r.identity,c=n,s=o,e.range=r.isFullCircle(d)?[u[0],u[0]+360]:d.map(g).map(o);break;case"category":var x=e._categories.length,v=e.period?Math.max(e.period,x):x;0===v&&(v=1),l=c=function(e){return 2*e*Math.PI/v},i=s=function(e){return e*v/Math.PI/2},e.range=[0,v]}e.c2g=function(e){return f(l(e))},e.g2c=function(e){return i(g(e))},e.t2g=function(e){return f(c(e))},e.g2t=function(e){return s(g(e))}}}(e,t)}}},87320:(e,t,a)=>{"use strict";var r=a(95754),i=a(61608),n=a(5227).c;e.exports=function(e,t,a,o){var l,s,c=o.type,u=o.attributes,d=o.handleDefaults,p=o.partition||"x",h=t._subplots[c],f=h.length,g=f&&h[0].replace(/\d+$/,"");function x(e,t){return r.coerce(l,s,u,e,t)}for(var v=0;v<f;v++){var y=h[v];l=e[y]?e[y]:e[y]={},s=i.newContainer(t,y,g),x("uirevision",t.uirevision);var m={};m[p]=[v/f,(v+1)/f],n(s,t,x,m),o.id=y,d(l,s,x,o)}}},27446:(e,t,a)=>{"use strict";var r=a(31025).f,i=a(31025).s,n=a(61782).extendFlat,o=a(83252),l=a(20992),s=o.line;e.exports={mode:o.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the radial coordinates"},theta:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the angular coordinates"},r0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `r`.","Builds a linear space of r coordinates.","Use with `dr`","where `r0` is the starting coordinate and `dr` the step."].join(" ")},dr:{valType:"number",dflt:1,role:"info",editType:"calc",description:"Sets the r coordinate step."},theta0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",description:["Alternate to `theta`.","Builds a linear space of theta coordinates.","Use with `dtheta`","where `theta0` is the starting coordinate and `dtheta` the step."].join(" ")},dtheta:{valType:"number",role:"info",editType:"calc",description:["Sets the theta coordinate step.","By default, the `dtheta` step equals the subplot's period divided","by the length of the `r` coordinates."].join(" ")},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",role:"info",editType:"calc+clearAxisTypes",description:["Sets the unit of input *theta* values.","Has an effect only when on *linear* angular axes."].join(" ")},text:o.text,texttemplate:i({editType:"plot"},{keys:["r","theta","text"]}),hovertext:o.hovertext,line:{color:s.color,width:s.width,dash:s.dash,shape:n({},s.shape,{values:["linear","spline"]}),smoothing:s.smoothing,editType:"calc"},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:n({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:n({},o.fill,{values:["none","toself","tonext"],dflt:"none",description:["Sets the area to fill with a solid color.","Use with `fillcolor` if not *none*.","scatterpolar has a subset of the options available to scatter.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other."].join(" ")}),fillcolor:o.fillcolor,hoverinfo:n({},l.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:o.hoveron,hovertemplate:r(),selected:o.selected,unselected:o.unselected}},96037:(e,t,a)=>{"use strict";var r=a(85472),i=a(68847).BADNUM,n=a(39393),o=a(79678),l=a(67351),s=a(8306),c=a(87783).calcMarkerSize;e.exports=function(e,t){for(var a=e._fullLayout,u=t.subplot,d=a[u].radialaxis,p=a[u].angularaxis,h=d.makeCalcdata(t,"r"),f=p.makeCalcdata(t,"theta"),g=t._length,x=new Array(g),v=0;v<g;v++){var y=h[v],m=f[v],b=x[v]={};r(y)&&r(m)?(b.r=y,b.theta=m):b.r=i}var k=c(t,g);return t._extremes.x=n.findExtremes(d,h,{ppad:k}),o(e,t),l(x,t),s(x,t),x}},65707:(e,t,a)=>{"use strict";var r=a(95754),i=a(42246),n=a(27139),o=a(84552),l=a(80148),s=a(45714),c=a(94082),u=a(32642).PTS_LINESONLY,d=a(27446);function p(e,t,a,r){var i,n=r("r"),o=r("theta");if(n)o?i=Math.min(n.length,o.length):(i=n.length,r("theta0"),r("dtheta"));else{if(!o)return 0;i=t.theta.length,r("r0"),r("dr")}return t._length=i,i}e.exports={handleRThetaDefaults:p,supplyDefaults:function(e,t,a,h){function f(a,i){return r.coerce(e,t,d,a,i)}var g=p(0,t,0,f);if(g){f("thetaunit"),f("mode",g<u?"lines+markers":"lines"),f("text"),f("hovertext"),"fills"!==t.hoveron&&f("hovertemplate"),i.hasLines(t)&&(o(e,t,a,h,f),l(e,t,f),f("connectgaps")),i.hasMarkers(t)&&n(e,t,a,h,f,{gradient:!0}),i.hasText(t)&&(f("texttemplate"),s(e,t,h,f));var x=[];(i.hasMarkers(t)||i.hasText(t))&&(f("cliponaxis"),f("marker.maxdisplayed"),x.push("points")),f("fill"),"none"!==t.fill&&(c(e,t,a,f),i.hasLines(t)||l(e,t,f)),"tonext"!==t.fill&&"toself"!==t.fill||x.push("fills"),f("hoveron",x.join("+")||"points"),r.coerceSelectionMarkerOpacity(t,f)}else t.visible=!1}}},47157:(e,t,a)=>{"use strict";var r=a(95754),i=a(39393);e.exports=function(e,t,a){var n,o,l={},s=a[t.subplot]._subplot;s?(n=s.radialAxis,o=s.angularAxis):(n=(s=a[t.subplot]).radialaxis,o=s.angularaxis);var c=n.c2l(e.r);l.rLabel=i.tickText(n,c,!0).text;var u="degrees"===o.thetaunit?r.rad2deg(e.theta):e.theta;return l.thetaLabel=i.tickText(o,u,!0).text,l}},37782:(e,t,a)=>{"use strict";var r=a(13735);function i(e,t,a,r){var i=a.radialAxis,n=a.angularAxis;i._hovertitle="r",n._hovertitle="θ";var o={};o[t.subplot]={_subplot:a};var l=t._module.formatLabels(e,t,o);r.rLabel=l.rLabel,r.thetaLabel=l.thetaLabel;var s=e.hi||t.hoverinfo,c=[];function u(e,t){c.push(e._hovertitle+": "+t)}if(!t.hovertemplate){var d=s.split("+");-1!==d.indexOf("all")&&(d=["r","theta","text"]),-1!==d.indexOf("r")&&u(i,r.rLabel),-1!==d.indexOf("theta")&&u(n,r.thetaLabel),-1!==d.indexOf("text")&&r.text&&(c.push(r.text),delete r.text),r.extraText=c.join("<br>")}}e.exports={hoverPoints:function(e,t,a,n){var o=r(e,t,a,n);if(o&&!1!==o[0].index){var l=o[0];if(void 0===l.index)return o;var s=e.subplot,c=l.cd[l.index],u=l.trace;if(s.isPtInside(c))return l.xLabelVal=void 0,l.yLabelVal=void 0,i(c,u,s,l),l.hovertemplate=u.hovertemplate,o}},makeHoverPointText:i}},90575:(e,t,a)=>{"use strict";e.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:a(67933),categories:["polar","symbols","showLegend","scatter-like"],attributes:a(27446),supplyDefaults:a(65707).supplyDefaults,colorbar:a(49463),formatLabels:a(47157),calc:a(96037),plot:a(21161),style:a(71008).style,styleOnSelect:a(71008).styleOnSelect,hoverPoints:a(37782).hoverPoints,selectPoints:a(19622),meta:{hrName:"scatter_polar",description:["The scatterpolar trace type encompasses line charts, scatter charts, text charts, and bubble charts","in polar coordinates.","The data visualized as scatter point or lines is set in","`r` (radial) and `theta` (angular) coordinates","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},21161:(e,t,a)=>{"use strict";var r=a(54815),i=a(68847).BADNUM;e.exports=function(e,t,a){for(var n=t.layers.frontplot.select("g.scatterlayer"),o={xaxis:t.xaxis,yaxis:t.yaxis,plot:t.framework,layerClipId:t._hasClipOnAxisFalse?t.clipIds.forTraces:null},l=t.radialAxis,s=t.angularAxis,c=0;c<a.length;c++)for(var u=a[c],d=0;d<u.length;d++){var p=u[d],h=p.r;if(h===i)p.x=p.y=i;else{var f=l.c2g(h),g=s.c2g(p.theta);p.x=f*Math.cos(g),p.y=f*Math.sin(g)}}r(e,o,a,n)}}}]);