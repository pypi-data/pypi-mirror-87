CHANGES
=======

* fixing documentation based on manual deployment experience

v1.25.0
-------

* Add hypervisor reboot test
* Use default test config if not overriden
* discover\_deployment\_network\_backend: Add function to discover network backend
* Update "numa\_aware\_vswitch" and "sriov\_free\_resource" tests
* This patch intoduce min qos iperf test

v1.24.0
-------

* Numa aware vswitch - update non numa network condition
* This patch introduce background pings utility
* Adding new file location do discover rhosp-relese
* Fix external net allocation
* Add support for custom\_net\_config script for multiple tags
* External net should appear first in the net list

v1.23.0
-------

* This patch introduce test ability to select request specific port types
* Fix test\_guests\_with\_min\_bw and test\_guests\_set\_min\_qos testcases
* Revert multicast script

v1.22.0
-------

* Update ConfigParser to work with configparser package and py3.6
* Update locate\_ovs\_physnets method
* Update get\_instances\_vcpu method
* Add SRIOV Max QoS test
* Relocate check\_queues method
* Replace sendto/recv by sendmsg/recvmsg for sending/receiving multicast traffic
* Introduce new test to verify SRIOV resources are freed for reuse
* Add option to tox\_check script

v1.21.0
-------

* Exclude FIP and SRIOV networks from numa aware vswitch test
* Updated error in deployer-input sample file
* Added tempest-deployer-input.conf into doc for manual deployment
* TimeOut increase for verifying nic status
* Updated QoS test to work after refactoring

v1.20.0
-------

* Refactor numa\_aware\_vswitch test
* Update "locate\_ovs\_physnets" method
* Add all subnets to the router
* Move mgmt network into self param
* Fix some tests after refactor
* Patch propose baremetal refactor
* Set "do not attach network" flag
* Modify numa\_aware\_vswitch test to support osp 16 and above
* hci: Fix test\_ceph\_health\_status\_in\_hci\_nfv\_setup
* Introduction of os\_admin\_v2 class var for using neutron\_tempest\_plugin

v1.19.0
-------

* Fix live migration tests
* Move OSP release check to a separate method
* Update hiera content retrieve method
* Add pinned and non pinned instances test
* Add "locate\_dedicated\_and\_shared\_cpu\_set" method
* min\_bw\_qos: Add minimum bandwidth and QoS tests
* Modify "get\_instance\_vcpu" method
* Add availability zones to resource creation method
* Add override options per server creation
* Add availability zone support
* Change in secgroup and fip to support nova new microversions
* Simplify tox\_check script (gate script)
* Add contribution readme
* HCI OvS DPDK test cases
* live migration: Update live migration scenarios

v1.18.0
-------

* custom\_net\_config.py: Verify interfaces configuration
* Add pinned\_srv\_live\_migration test
* fix: failing port creation in osp10 for sriov networks
* The vcpu\_to\_numa\_node method update
* fix lacp testcase, statistics was taken from a wrong hypervisor
* comparison problem between a list and a set
* \_get\_dumpxml\_instance\_data: Adapt to OSP16
* compare\_emulatorpin\_to\_overcloud\_config: Refactor

v1.17.0
-------

* Update numa aware test to support python3
* Update cloud-init use for python3 and python2 compatibility
* small fixes for lacp&igmp testcases in order to run with python3
* test\_nfv\_offload: Add test\_offload\_ovs\_flows test
* test\_all\_provider\_networks: Verify guest provider networks
* replaced viewkeys for keys in dict for python3 compatibility
* test\_nfv\_offload: Update tests to run on all hypervisors
* baremetal\_manager: Add support for HW offload
* Create resources without servers
* Extend numa aware vswitch test
* Add "list\_available\_resources\_on\_hypervisor" function
* Add "locate\_numa\_aware\_networks" function
* Update "locate\_ovs\_physnets" method to support vxlan
* Fix linting W504 for igmp snooping
* Fix gate - tox check failures
* Add Igmp snooping testcases
* HCI DPDK deployment simple test case
* Create "check\_instance\_connectivity" function
* Refactor test scripts transfer method + custom\_net\_config script update

v1.16.0
-------

* Add packages deploy script
* Add double tagging test
* Validate offload config on the offload enabled node
* Add post\_net\_bootstrap script
* fix: packet installation in cloud-init was not working
* lacp testcases
* Update scapy\_traffic script
* Update numa aware vswitch test
* Init the test setup dict
* Organize external created resources
* Fix networks iteration call
* Separate instance creation from the main method
* Expose specific values of the resources
* Cleanup after tox execution
* Fix flavor definition flow in test config
* gateway\_ip and dhcp were not configured properly when creating test networks
* gateway\_ip and dhcp not properly configured when creating test networks
* Add scapy traffic script
* Fix yaml load deprecations

v1.15.7
-------

* Derive parameters test
* Adding six w/a for not supporting strict=False
* Fix Python3 issues revealed based on 15 deployment
* Add numa aware vswitch test
* Add locate\_ovs\_network method

v1.14.6
-------

* Check for aggregate host existance
* Refactor \_check\_number\_queues Function
* Add quota for cores and ram to the plugin

v1.13.6
-------

* Python3: Adapt \_get\_value\_from\_ini\_config
* Python: Decode SSH Command Results
* Add ports number and instance state
* Fix \_test\_check\_package\_version to print rpms into log instead of assertion

v1.12.5
-------

* Create aggregate method
* Fix "use\_mgmt\_only" flag behavior
* Add changes to suite python2 and python3
* Fix tempest flavor discovery logic

v1.11.4
-------

* Add proper logging to nfv plugin
* Move prepare flavor and image iteration under check condition
* Fix ext file check and authentication to the test instance
* Unify plugin configuration section
* Mtu test - list routers
* Change SSH key store method

v1.10.3
-------

* Adding \_retrieve\_content\_from\_files method
* Update documentation - microversion version
* Update docs installation section
* Multicast test fix and refactor
* Refactor mtu test
* Check external resources data file
* Execute user script on boot
* Make FIP as optional
* Fix for broken coldmigration test

v1.9.2
------

* Move rx/tx test under dpdk usecases
* Live migration "TO counter fix"
* Move 'base\_test' method into a separate class
* Add Trusted Virtual Function test
* Fix the 'use\_mgmt\_only' flag
* Implement 'trusted' in external config
* Assert with mult-queue not supported error if not enabled
* Implement multiple servers creation
* Add ports creation multiple instances at once

v1.8.1
------

* Create RX/TX test
* Create emulatorpin test
* Fix hypervisor check for running instance
* Refactor cold migration test
* Create RX/TX compare method
* New test introduced cold migration
* Create test\_base method and refactor numa tests
* Create emulatorpin compare method
* Create rx/tx check method
* Create emulatorpin\_check method
* Fix calls to \_get\_hypervisor\_ip\_from\_undercloud()
* Create methods that get overcloud configuration
* Create common method for gather dumpxml data

v1.8.0
------

* Update livemigration to be created only w/ ovs+dpdk networks
* Changing multicast address
* Create "create\_server\_with\_resources" method

v1.7.0
------

* Fix live migration test due to specific microversion use
* Updating plugin documentation   - config\_drive   - device role tagging for networks
* Allow to transfer files from client to guest
* Fix user\_data verification in tempest.conf
* Add the option to supply custom user\_data
* Remove duplicated and unused statements
* Enable the usage of network device role tagging in tempest
* Enable the use of config\_drive in tempest(enabled by default)

v1.6.0
------

* Allowing tempest to utilize compute microversions in order to access certain APIs
* Set plugin default paramaters
* Add support for flat networks in test

v1.5.0
------

* Live-migration tests update
* Add proper error handling to tox\_check script
* Create networks with random VLAN IDs from NeutronNetworkVLANRanges
* [FIX] Packages test compare issue

v1.4.0
------

* Refactor test\_packages\_compute test
* Fix check\_number\_queues method
* Update docs
* Support of running basis tests on two computes
* Fix livemigration to work with fip
* Multi queues adaptation to OSP 13
* Updaing docs to the new name of the plugin repo
* Fix contribution doc
* Remove explicit version definition
* Remove explicit version definition
* Updating gitreview file
* Updating contribution doc

v1.3.0
------

* Updating plugin to fit tempest renaming conventions
* Removing unused files
* Add linting support

v1.2.0
------

* Add multicast test
* Add 'copy file to remote host' method
* Add packages installation to the cloud-init method
* Changing the test\_nfv\_epa to test\_nfv\_basic
* Add repos to booted instances
* Add dns config to mgmt subnet + subnet creation pool fix
* Update documentation with the flavor creation reference
* Flavor creation
* Updating gitignore file
* Adding SSH verification to nfv tests
* Adds packaging info to 'setup.cfg'
* Fix typo
* Fix typo
* Adding security groups and cloud init to queues tests
* Fix security group creation in epa tests
* Add security Groups Fix in EPA
* Updating tempest nfv plugin structure
* Documentation refactoring
* Documentation refactoring
* Removing '"hw:numa\_nodes": "2"' flavor extra spec policy
* Fix queues test ping method
* Add additional extra\_specs to the flavor for proper cores allocation for the booted instance
* Adding mtu ping test scenario
* Adding LICENSE
* Fixed reading of securitygroups from input yaml. Added \_add\_subnet\_to\_router, adding mgmt\  test-network to router Added \_try\_remove\_router\_subnet \  to sync cleanup network with remove subnet cleanup Added method to baremetal for scurity group Updated test\_nfv\_epa.py to use cloudinit method Updated test\_nfv\_epa.py to use security group method Updates test\_nfv\_epa.py to work with new method \_add\_subnet\_to\_router Added fix to securitygroup method and identation
* Adding ping support for live migration
* Adding support for flavor to live-migration
* Fix identention
* Adding vm live migration test
* Create LICENSE
* typo correcrion Added correction to \_test\_check\_package\_version with host\_ip list correction Added Fix in \_test\_numa\_provider\_network for self.ip\_address Fixed condition in \_run\_local\_cmd\_shell\_with\_venv ET was replaced with ELEMENTTree due to indentation source command was fixed in \_run\_local\_cmd\_shell\_with\_venv New method in bm\_mgr receive compute ip by undercloud shell Changed epa tests to work with this API
* Fixed \_list\_aggregate with name Add method \_run\_local\_cmd\_shell\_with\_venv run command on tester
* Change multiques test to adapt RHOS 12 env and two interfaces testing
* Change multiques test to adapt RHOS 12 env and two interfaces testing
* Added assertion error messages to \_test\_check\_package\_version
* Moved the deleteion of sec\_groups['id'] to the end of create\_port\_on\_network From the testitself to baremetal-manager
* Removed id from kwargs['security\_groups'] do to latest tempest changes Checked with 10 and 11
* Removed id from kwargs['security\_groups'] do to latest tempest changes Checked with 10 and 11
* Add port order at the end of \_create\_ports\_on\_networks + Indentation issues from previous reviews
* Add port order at the end of \_create\_ports\_on\_networks + Indentation issues from previous reviews
* Fix ERROR to ACTIVE
* Fix max queues, should work
* Adding multiqueue functional test
* Method checks if packages exists
* Adding multiqueue functional test
* Method checks if packages exists
* Change resolving of instance\_name attribute
* Addes in baremetal\_manager \_create\_test\_networks, to work with upstream tempest.. tempest test project creates networks and subnets workin in provider mode test\_nfv\_epa.py was updated to use new method, see tempest\_plugin/network\_config.yml.sample for attributes changes
* depreccated the need of naming 'public' network for the NAT network Change in baremetal manager
* Add support for provider networks in test and baremetal
* add support in numa mix check in baremetal\_manager
* Fixed parallel reading to private key file in baremetal\_manager.py
* Added test\_nfv\_epa tests and fixed vcp\_xml in baremetal\_manager
* Add support in read\_ext\_config for optional parameters and images
* Fixes in Baremetal to integrate with network\_config.yaml
* test\_nfv\_prep\_net\_plugin.py Add correction for dynamic def gw\_ip instead of hardcoded ip Addes tests for multiple network with cloud-init README.md Corrections in network\_config.yaml Add detailes for tempest plugin
* Add API call correction in createserver of baremetal\_manager with router:external
* code review correction
* Revert "added test and functions to work with multiple networks"
* added test and functions to work with multiple networks
* Adding verify on the network check to not include the external network
* The SSH login temporary disabled as we need to ensure to get the proper hypervisor ip address
* Add support in backport compatbility
* Added ping ssh test
* Adding test\_nfv\_dpdk\_usecases file
* Gitignore file added. Ignore the following extensions
* Gerrit settings
* Added the following
* Add host ip address
* Return correct hugepage number
* Change call to get configured credentials
* Remove classmethod for create\_flavor\_with\_extra\_specs
* Initialize keypairs & servers in usecases setUp
* Initialize keypairs during setUp
* Added SRIOV basic tests and HyperVisor List support
* README.md syntax fix
* README.md file syntax fix
* Description and setup steps have been added
* deleting test
* Testing gerrit
* Deleting set\_network\_resources from setup\_credentials in baremetal\_manager
* Adding baremetal\_manager as nfv local manager
* Changing manager class hierarchy
* Modifying the full hierarchy of TestNfvPlugin, until creation of the new manager.py
* test\_dir path has been updated
* Tempest NFV plugin
